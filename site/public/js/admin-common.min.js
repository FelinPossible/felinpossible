function formatRowNum(e){return e+1}function formatDate(e){try{return""==e||null==e?"":dojo.date.locale.format(new Date(dojo.date.stamp.fromISOString(e)),{datePattern:"dd/MM/yyyy",selector:"date"})}catch(t){return console.error("Unable to format date ",e,"error: ",t),e}}function formatDateMySql(e){try{return""==e||null==e?"":dojo.date.locale.format(new Date(dojo.date.stamp.fromISOString(e)),{datePattern:"yyyy-MM-dd",selector:"date"})}catch(t){return console.error("Unable to format date ",e,"error: ",t),e}}function formatDateFutur(e){try{if(""==e||null==e)return"<div style='color:red'>A renseigner</div>";var t=new Date(dojo.date.stamp.fromISOString(e)),a=new Date,r="color:green";return a>t&&(r="color:red"),"<div style='"+r+"'>"+dojo.date.locale.format(t,{datePattern:"dd/MM/yyyy",selector:"date"})+"</div>"}catch(i){return console.error("Unable to format date ",e,"error: ",i),e}}function formatDateFuturSterilisation(e,t){try{if(""==e||null==e)return"<div style='color:red'>A renseigner</div>";var a=new Date(dojo.date.stamp.fromISOString(e)),r=new Date,i="color:green",o=this.grid.getItem(t);return r>a&&o&&0==o.i.sterilise&&(i="color:red"),"<div style='"+i+"'>"+dojo.date.locale.format(a,{datePattern:"dd/MM/yyyy",selector:"date"})+"</div>"}catch(n){return console.error("Unable to format date ",e,"error: ",n),e}}function formatTimestamp(e){try{var t=new Date;return t.setTime(1e3*e),dojo.date.locale.format(t,{datePattern:"dd/MM/yyyy",selector:"date"})}catch(a){return console.error("Unable to format nbSeconds ",e,"error: ",a),e}}function formatUpperCase(e){try{if(""!=e)return e.toUpperCase()}catch(t){console.error("Unable to format string to uppercase ",e,"error: ",t)}return e}function formatBold(e){return"<div style='font-weight: bold;' >"+e+"</div>"}function formatUpperCaseBold(e){return formatBold(formatUpperCase(e))}function formatUcfirst(e){try{if(""!=e&&e.length>0)return e.charAt(0).toUpperCase()+e.substring(1)}catch(t){console.error("Unable to format str ",e,"error: ",t)}return e}function formatBoolean(e){return 1==e?"<div class='booleanVrai'/>":"<div class='booleanFaux'/>"}function formatStatutFa(e){var t;switch(e){case 1:t="faActive";break;case 2:t="faInactive";break;case 3:t="faDisponible";break;case 4:t="faStandBy";break;case 5:t="faVacances";break;case 6:t="faIndesirable";break;case 7:t="faCandidature";break;case 8:t="faArchive";break;default:return e}return"<div class='"+t+"'/>"}function formatStatutIndispo(e){var t;switch(e){case 1:t="indispoAvenir";break;case 2:t="indispoEnCours";break;case 3:t="indispoTerminee";break;default:return e}return"<div class='"+t+"'/>"}function formatStatutVPA(e){var t;switch(e){case 1:t="booleanVrai";break;case 0:t="booleanFaux";break;case 2:t="VPAAffecté";break;case-1:t="VPAKO";break;case-2:t="VPAKO";break;default:return e}return"<div class='"+t+"'/>"}function formatSexe(e){return"Femelle"==e?"<div class='sexeFemelle'/>":"<div class='sexeMale'/>"}function callAjaxWithCallback(e,t,a){dojo.xhrGet({url:e,handleAs:"text",load:t,param:a})}function addChat(e,t,a,r){callAjax(e,t,a)}function addItem(e,t,a,r){callAjax(e,t,a)}function editItem(e,t,a,r,i,o){if(e&&""!=e){var n=dijit.byId(t),d=n.store,l=n.selection.getSelected().length;if(o||(o="id"),l)for(var s=0;l>s;s++){var c=n.selection.getSelected()[s],f=d.getValue(c,"id");callAjax(e+"?"+o+"="+f,a,r);break}else alert("Aucun élément sélectionné")}}function deleteItem(e,t,a,r){var i=dijit.byId(t),o=i.store,n=i.selection.getSelected().length;if(a||(a="id"),n&&(r||confirm("Confirmez-vous la suppression ?"))){i.showMessage(i.loadingMessage);for(var d=0;n>d;d++){var l=i.selection.getSelected()[d],s=o.getValue(l,"id");callAjaxWithCallback(e+"?"+a+"="+s,callbackUpdateItems,i)}i.selection.deselectAll()}else alert("Aucun élément sélectionné")}function exportData(e){window.open(e)}function updateItem(e,t,a){deleteItem(e,t,a,!0)}function genereDocument(e,t,a){var r=dijit.byId(t),i=r.store,o=r.selection.getSelected().length;if(a||(a="id"),o)for(var n=0;1>n;n++){var d=r.selection.getSelected()[n],l=i.getValue(d,"id");window.open(e+"?"+a+"="+l)}else alert("Aucun élément sélectionné")}function callbackUpdateItems(e,t){var a=t.args.param;a._refresh()}function showTooltip(e){dijit.showTooltip("Double-cliquer pour éditer.",e.cellNode)}function showTooltipAjout(e){dijit.showTooltip("Double-cliquer pour ajouter.",e.cellNode)}function hideTooltip(e){dijit.hideTooltip(e.cellNode)}function initGrid(e){var t=dijit.byId(e);0==t.rowCount&&t.updateRowCount(0);var a=document.getElementById("loadGrid");a&&(a.style.display="none")}function endGrid(e){var t=dijit.byId(e),a=document.getElementById("nbElements");a&&(a.innerHTML=t.rowCount),t.showMessage(null)}function filterFa(e){var t=dijit.byId("filterFaStatut");if(t.isValid()){var a=new Object;a.statut=t.getValue(),a.nom=dijit.byId("filterFaNom").getValue(),a.prenom=dijit.byId("filterFaPrenom").getValue(),a.login=dijit.byId("filterFaLogin").getValue(),dijit.byId("filterFaSansContrat").checked&&(a.dateContratFa="is null");var r=dijit.byId(e);r.filter(a),r.showMessage(r.loadingMessage)}}function filterIndispo(){var e=dijit.byId("filterIndispoStatut");if(e.isValid()){var t=new Object;t.statutIndispo=e.getValue();var a=dijit.byId("commonGrid");a.filter(t),a.showMessage(a.loadingMessage)}}function filterAdoptant(e){var t=new Object;t.nom=dijit.byId("filterAdNom").getValue(),t.prenom=dijit.byId("filterAdPrenom").getValue(),t.login=dijit.byId("filterAdLogin").getValue();var a=dijit.byId(e);a.filter(t),a.showMessage(a.loadingMessage)}function filterVeto(e){var t=new Object;t.raison=dijit.byId("filterVetoRaison").getValue(),t.cp=dijit.byId("filterVetoCp").getValue(),t.ville=dijit.byId("filterVetoVille").getValue(),t.email=dijit.byId("filterVetoEmail").getValue();var a=dijit.byId(e);a.filter(t),a.showMessage(a.loadingMessage)}function filterMateriel(e){var t=new Object;t.DescriptionMateriel=dijit.byId("filterDescriptionMateriel").getValue();var a=dijit.byId(e);a.filter(t),a.showMessage(a.loadingMessage)}function filterDemande(e){var t=new Object;t.login=dijit.byId("filterLogin").getValue(),t.nom=dijit.byId("filterNom").getValue();var a=dijit.byId(e);a.filter(t),a.showMessage(a.loadingMessage)}function filterChat(e){var t=new Object;if(t.nom=dijit.byId("filterChatNom").getValue(),dijit.byId("filterChatValider").checked&&(t.aValider=1,t.disparu=0),dijit.byId("filterChatAdoption").checked&&(t.adopte=0,t.disparu=0),dijit.byId("filterChatReserve").checked&&(t.reserve=1,t.disparu=0),dijit.byId("filterChatParrainer").checked&&(t.aParrainer=1,t.disparu=0),dijit.byId("filterChatDisparu").checked&&(t.disparu=1),dijit.byId("filterChatSansContrat").checked&&(t.dateContratAdoption="is null",t.adopte=1,t.disparu=0),""!=dijit.byId("filterChatDateAdDebut")){var a=formatDateMySql(dijit.byId("filterChatDateAdDebut")),r="9999-12-31";""!=dijit.byId("filterChatDateAdFin")&&(r=formatDateMySql(dijit.byId("filterChatDateAdFin"))),t.dateAdoption='between "'+a+'" and "'+r+'"'}var i=dijit.byId(e);i.filter(t),i.showMessage(i.loadingMessage)}function filtervpa(e){var t=new Object;t.nom=dijit.byId("filterChatNom").getValue();var a=dijit.byId(e);a.filter(t),a.showMessage(a.loadingMessage)}function disableFilters(){var e=document.getElementById("filters");if(e)for(var t=e.getElementsByTagName("input"),a=0;a<t.length;a++)t[a].disabled="true"}function enableFilters(){var e=document.getElementById("filters");if(e)for(var t=e.getElementsByTagName("input"),a=0;a<t.length;a++)t[a].disabled=""}