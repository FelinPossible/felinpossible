hash="";ancreExpr=RegExp("^#ancre.*","g");function init(){initPage();initLinks();window.onresize=resizeIframe}function initPage(){interval=setInterval(function(){var a=window.location.hash;a!=hash&&(hash=a,""!=hash&&callAjax(hash))},200);$("a[rel=ajax]").click(function(){setHash(this.hash);callAjax(this.hash)});$(window).resize(handleResize);handleResize()}function removeHash(a){"#"==a.charAt(0)&&(a=a.substring(1));return a}function setHash(a){hash=a;window.location.hash=a}
function handleResize(){980>$(window).width()?($("#main-menu").removeClass("span3"),$("#main-menu").addClass("span4"),$("#main-content").removeClass("span9"),$("#main-content").addClass("span8")):($("#main-menu").removeClass("span4"),$("#main-menu").addClass("span3"),$("#main-content").removeClass("span8"),$("#main-content").addClass("span9"))}
function initLinks(){$("div.accordion-inner > ul.nav > li").click(function(a){a.preventDefault();$("ul.nav > li").removeClass("active");$(this).addClass("active")})}
function callAjax(a,b,d,f){if(!ancreExpr.test(a)){var b=b||"corps",c=$("#"+(d||"chargementCorps")),e=$("#"+b);$.ajax({type:f?"POST":"GET",data:$("#"+f).serialize(),url:removeHash(a),beforeSend:function(){scrollToContent();e.hide();c.fadeIn("medium")},success:function(a){deleteWidgets(b);e.html(a);try{dojo.parser.parse(b)}catch(c){}e.find("a[rel=ancre]").click(function(a){a.preventDefault();$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top-60},"fast")})},error:function(a,b,c){console.error("HTTP status code: ",
a.status,"Message: ",c);e.html(a.responseText)},complete:function(){resizeIframe();c.hide();e.fadeIn("medium")}})}}function scrollToContent(){var a=$("#main-content").offset().top;a-$(window).scrollTop()>window.innerHeight&&$("html, body").animate({scrollTop:a},"medium")}
function deleteWidgets(a){try{for(var b=document.getElementById(a).getElementsByTagName("*"),d=0,f="",c=null,e=[];d<b.length;)f=b[d].id,(c=dijit.byId(f))&&e.push(c),d++;for(c=e.pop();c;){if(c.destroy)try{c.destroyRecursive()}catch(h){}c=e.pop()}var g=document.getElementById(a);if(g.hasChildNodes())for(;1<=g.childNodes.length;)g.removeChild(g.firstChild)}catch(i){}}
function resizeIframe(){var a=document.getElementById("framePerdusTrouves");if(a){var b=document.documentElement.clientHeight,b=b-a.offsetTop;a.style.height=b-20+"px"}}function popoverAction(a,b){var d=$("#"+a),f=$("#load"+a),c=d.parent().find(".popover:first").hasClass("in");$("[rel=popover]").popover("destroy");c||$.ajax({type:"GET",url:b,cache:!0,dataType:"html",beforeSend:function(){f.show()},success:function(a){d.attr("data-content",a);f.hide();d.popover("show")}})}
function popoverClose(a){$("#"+a).popover("destroy")}function popup(a,b,d){window.open(a,b,d)}
function submit_animal(){var a=window.opener.document.getElementById("foyerForm-animauxAutres").value;""!=a?(a+="\n",a+="Type:"+document.getElementById("typeAnimal").value):a="Type:"+document.getElementById("typeAnimal").value;a+=",";a+="Race:"+document.getElementById("race").value;a+=",";a+="Age:"+document.getElementById("age").value;window.opener.document.getElementById("foyerForm-animauxAutres").value=a}
function submit_chatFA(){var a=window.opener.document.getElementById("foyerForm-chats").value;""!=a?(a+="\n",a+="Nom:"+document.getElementById("nom").value):a="Nom:"+document.getElementById("nom").value;a+=",";a+="Age:"+document.getElementById("age").value;a+=",";a=!0==document.getElementById("vacTyphus").checked?a+"Typhus:1":a+"Typhus:0";a+=",";a=!0==document.getElementById("vacCoryza").checked?a+"Coryza:1":a+"Coryza:0";a+=",";a=!0==document.getElementById("vacLeucose").checked?a+"Leucose:1":a+"Leucose:0";
a+=",";a=!0==document.getElementById("vacRage").checked?a+"Rage:1":a+"Rage:0";a+=",";a=!0==document.getElementById("sterilise").checked?a+"Sterilis\u00e9:1":a+"Sterilis\u00e9:0";a+=",";a=!0==document.getElementById("visMaison").checked?a+"visMaison:1":a+"visMaison:0";window.opener.document.getElementById("foyerForm-chats").value=a};