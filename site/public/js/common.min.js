function init(){initPage(),initLinks(),window.onresize=resizeIframe}function initPage(){interval=setInterval(function(){var a=window.location.hash;a!=hash&&(hash=a,""!=hash&&callAjax(hash))},200),$("a[rel=ajax]").click(function(){setHash(this.hash),callAjax(this.hash)}),$(window).resize(handleResize),handleResize()}function removeHash(a){return"#"==a.charAt(0)&&(a=a.substring(1)),a}function setHash(a){hash=a,window.location.hash=a}function handleResize(){$(window).width()<980?($("#main-menu").removeClass("span3"),$("#main-menu").addClass("span4"),$("#main-content").removeClass("span9"),$("#main-content").addClass("span8")):($("#main-menu").removeClass("span4"),$("#main-menu").addClass("span3"),$("#main-content").removeClass("span8"),$("#main-content").addClass("span9"))}function initLinks(){$("div.accordion-inner > ul.nav > li").click(function(a){a.preventDefault(),$("ul.nav > li").removeClass("active"),$(this).addClass("active")})}function callAjax(a,b,c,d){if(!ancreExpr.test(a)){b=b||"corps",c=c||"chargementCorps";var e=$("#"+c),f=$("#"+b),g=d?"POST":"GET";$.ajax({type:g,data:$("#"+d).serialize(),url:removeHash(a),beforeSend:function(){scrollToContent(),f.hide(),e.fadeIn("medium")},success:function(a){deleteWidgets(b),f.html(a);try{dojo.parser.parse(b)}catch(c){}f.find("a[rel=ancre]").click(function(a){a.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top-60},"fast")})},error:function(a,b,c){console.error("HTTP status code: ",a.status,"Message: ",c),f.html(a.responseText)},complete:function(){resizeIframe(),e.hide(),f.fadeIn("medium")}})}}function scrollToContent(){var b=$("#main-content").offset().top,c=b-$(window).scrollTop();c>window.innerHeight&&$("html, body").animate({scrollTop:b},"medium")}function deleteWidgets(a){try{for(var b=document.getElementById(a).getElementsByTagName("*"),c=0,d="",e=null,f=new Array;c<b.length;)d=b[c].id,e=dijit.byId(d),e&&f.push(e),c++;for(e=f.pop();e;){if(e.destroy)try{e.destroyRecursive()}catch(g){}e=f.pop()}var h=document.getElementById(a);if(h.hasChildNodes())for(;h.childNodes.length>=1;)h.removeChild(h.firstChild)}catch(g){}}function resizeIframe(){var a=document.getElementById("framePerdusTrouves");if(a){var b=document.documentElement.clientHeight;b-=a.offsetTop,b-=20,a.style.height=b+"px"}}function popoverAction(a,b){var c=$("#"+a),d=$("#load"+a),e=c.parent().find(".popover:first").hasClass("in");$("[rel=popover]").popover("destroy"),e||$.ajax({type:"GET",url:b,cache:!0,dataType:"html",beforeSend:function(){d.show()},success:function(a){c.attr("data-content",a),d.hide(),c.popover("show")}})}function popoverClose(a){$("#"+a).popover("destroy")}function popup(a,b,c){window.open(a,b,c)}function submit_animal(){var b,a=window.opener.document.getElementById("foyerForm-animauxAutres").value;""!=a?(b=a,b+="\n",b+="Type:"+document.getElementById("typeAnimal").value):b="Type:"+document.getElementById("typeAnimal").value,b+=",",b+="Race:"+document.getElementById("race").value,b+=",",b+="Age:"+document.getElementById("age").value,window.opener.document.getElementById("foyerForm-animauxAutres").value=b}function submit_chatFA(){var b,a=window.opener.document.getElementById("foyerForm-chats").value;""!=a?(b=a,b+="\n",b+="Nom:"+document.getElementById("nom").value):b="Nom:"+document.getElementById("nom").value,b+=",",b+="Age:"+document.getElementById("age").value,b+=",",b+=1==document.getElementById("vacTyphus").checked?"Typhus:1":"Typhus:0",b+=",",b+=1==document.getElementById("vacCoryza").checked?"Coryza:1":"Coryza:0",b+=",",b+=1==document.getElementById("vacLeucose").checked?"Leucose:1":"Leucose:0",b+=",",b+=1==document.getElementById("vacRage").checked?"Rage:1":"Rage:0",b+=",",b+=1==document.getElementById("sterilise").checked?"Sterilis\xe9:1":"Sterilis\xe9:0",b+=",",b+=1==document.getElementById("visMaison").checked?"visMaison:1":"visMaison:0",window.opener.document.getElementById("foyerForm-chats").value=b}function connaissanceAsso(){var a="#remarquesForm-connaissanceAssoDetail-label",b="#remarquesForm-connaissanceAssoDetail",c=parseInt($("#remarquesForm-idConnaissanceAsso").val());switch(c){case 1:$(a).find("label").text("Lequel ?"),$(a).show(),$(b).show();break;case 2:$(a).find("label").text("Sur quel site ?"),$(a).show(),$(b).show();break;case 6:$(a).find("label").text("Pr\xe9cisez "),$(a).show(),$(b).show();break;case 4:$(a).find("label").text("Lequel ?"),$(a).show(),$(b).show();break;default:$(a).hide(),$(b).hide()}}hash="",ancreExpr=new RegExp("^#ancre.*","g");