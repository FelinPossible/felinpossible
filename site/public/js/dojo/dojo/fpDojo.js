/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(_1,_2){if(_2<=0||!_1){return "";}var _3=[];for(;;){if(_2&1){_3.push(_1);}if(!(_2>>=1)){break;}_1+=_1;}return _3.join("");};dojo.string.pad=function(_4,_5,ch,_7){if(!ch){ch="0";}var _8=String(_4),_9=dojo.string.rep(ch,Math.ceil((_5-_8.length)/ch.length));return _7?_8+_9:_9+_8;};dojo.string.substitute=function(_a,_b,_c,_d){_d=_d||dojo.global;_c=(!_c)?function(v){return v;}:dojo.hitch(_d,_c);return _a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_f,key,_11){var _12=dojo.getObject(key,false,_b);if(_11){_12=dojo.getObject(_11,false,_d).call(_d,_12,key);}return _c(_12,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_18,_19){var _1a=[];function _1b(_1c,dir){return function(_1e,_1f){var a=_19.getValue(_1e,_1c);var b=_19.getValue(_1f,_1c);var _22=null;if(_19.comparatorMap){if(typeof _1c!=="string"){_1c=_19.getIdentity(_1c);}_22=_19.comparatorMap[_1c]||dojo.data.util.sorter.basicComparator;}_22=_22||dojo.data.util.sorter.basicComparator;return dir*_22(a,b);};};var _23;for(var i=0;i<_18.length;i++){_23=_18[i];if(_23.attribute){var _25=(_23.descending)?-1:1;_1a.push(_1b(_23.attribute,_25));}}return function(_26,_27){var i=0;while(i<_1a.length){var ret=_1a[i++](_26,_27);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojox.data.QueryReadStore"]){dojo._hasResource["dojox.data.QueryReadStore"]=true;dojo.provide("dojox.data.QueryReadStore");dojo.declare("dojox.data.QueryReadStore",null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:false,doClientSorting:false,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":true,"dojo.data.api.Identity":true},_labelAttr:"label",constructor:function(_2a){dojo.mixin(this,_2a);},getValue:function(_2b,_2c,_2d){this._assertIsItem(_2b);if(!dojo.isString(_2c)){throw new Error(this._className+".getValue(): Invalid attribute, string expected!");}if(!this.hasAttribute(_2b,_2c)){if(_2d){return _2d;}console.log(this._className+".getValue(): Item does not have the attribute '"+_2c+"'.");}return _2b.i[_2c];},getValues:function(_2e,_2f){this._assertIsItem(_2e);var ret=[];if(this.hasAttribute(_2e,_2f)){ret.push(_2e.i[_2f]);}return ret;},getAttributes:function(_31){this._assertIsItem(_31);var ret=[];for(var i in _31.i){ret.push(i);}return ret;},hasAttribute:function(_34,_35){return this.isItem(_34)&&typeof _34.i[_35]!="undefined";},containsValue:function(_36,_37,_38){var _39=this.getValues(_36,_37);var len=_39.length;for(var i=0;i<len;i++){if(_39[i]==_38){return true;}}return false;},isItem:function(_3c){if(_3c){return typeof _3c.r!="undefined"&&_3c.r==this;}return false;},isItemLoaded:function(_3d){return this.isItem(_3d);},loadItem:function(_3e){if(this.isItemLoaded(_3e.item)){return;}},fetch:function(_3f){_3f=_3f||{};if(!_3f.store){_3f.store=this;}var _40=this;var _41=function(_42,_43){if(_43.onError){var _44=_43.scope||dojo.global;_43.onError.call(_44,_42,_43);}};var _45=function(_46,_47,_48){var _49=_47.abort||null;var _4a=false;var _4b=_47.start?_47.start:0;if(_40.doClientPaging==false){_4b=0;}var _4c=_47.count?(_4b+_47.count):_46.length;_47.abort=function(){_4a=true;if(_49){_49.call(_47);}};var _4d=_47.scope||dojo.global;if(!_47.store){_47.store=_40;}if(_47.onBegin){_47.onBegin.call(_4d,_48,_47);}if(_47.sort&&_40.doClientSorting){_46.sort(dojo.data.util.sorter.createSortFunction(_47.sort,_40));}if(_47.onItem){for(var i=_4b;(i<_46.length)&&(i<_4c);++i){var _4f=_46[i];if(!_4a){_47.onItem.call(_4d,_4f,_47);}}}if(_47.onComplete&&!_4a){var _50=null;if(!_47.onItem){_50=_46.slice(_4b,_4c);}_47.onComplete.call(_4d,_50,_47);}};this._fetchItems(_3f,_45,_41);return _3f;},getFeatures:function(){return this._features;},close:function(_51){},getLabel:function(_52){if(this._labelAttr&&this.isItem(_52)){return this.getValue(_52,this._labelAttr);}return undefined;},getLabelAttributes:function(_53){if(this._labelAttr){return [this._labelAttr];}return null;},_xhrFetchHandler:function(_54,_55,_56,_57){_54=this._filterResponse(_54);if(_54.label){this._labelAttr=_54.label;}var _58=_54.numRows||-1;this._items=[];dojo.forEach(_54.items,function(e){this._items.push({i:e,r:this});},this);var _5a=_54.identifier;this._itemsByIdentity={};if(_5a){this._identifier=_5a;var i;for(i=0;i<this._items.length;++i){var _5c=this._items[i].i;var _5d=_5c[_5a];if(!this._itemsByIdentity[_5d]){this._itemsByIdentity[_5d]=_5c;}else{throw new Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+_5a+"].  Value collided: ["+_5d+"]");}}}else{this._identifier=Number;for(i=0;i<this._items.length;++i){this._items[i].n=i;}}_58=this._numRows=(_58===-1)?this._items.length:_58;_56(this._items,_55,_58);this._numRows=_58;},_fetchItems:function(_5e,_5f,_60){var _61=_5e.serverQuery||_5e.query||{};if(!this.doClientPaging){_61.start=_5e.start||0;if(_5e.count){_61.count=_5e.count;}}if(!this.doClientSorting){if(_5e.sort){var _62=_5e.sort[0];if(_62&&_62.attribute){var _63=_62.attribute;if(_62.descending){_63="-"+_63;}_61.sort=_63;}}}if(this.doClientPaging&&this._lastServerQuery!==null&&dojo.toJson(_61)==dojo.toJson(this._lastServerQuery)){this._numRows=(this._numRows===-1)?this._items.length:this._numRows;_5f(this._items,_5e,this._numRows);}else{var _64=this.requestMethod.toLowerCase()=="post"?dojo.xhrPost:dojo.xhrGet;var _65=_64({url:this.url,handleAs:"json-comment-optional",content:_61});_65.addCallback(dojo.hitch(this,function(_66){this._xhrFetchHandler(_66,_5e,_5f,_60);}));_65.addErrback(function(_67){_60(_67,_5e);});this.lastRequestHash=new Date().getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=dojo.mixin({},_61);}},_filterResponse:function(_68){return _68;},_assertIsItem:function(_69){if(!this.isItem(_69)){throw new Error(this._className+": Invalid item argument.");}},_assertIsAttribute:function(_6a){if(typeof _6a!=="string"){throw new Error(this._className+": Invalid attribute argument ('"+_6a+"').");}},fetchItemByIdentity:function(_6b){if(this._itemsByIdentity){var _6c=this._itemsByIdentity[_6b.identity];if(!(_6c===undefined)){if(_6b.onItem){var _6d=_6b.scope?_6b.scope:dojo.global;_6b.onItem.call(_6d,{i:_6c,r:this});}return;}}var _6e=function(_6f,_70){var _71=_6b.scope?_6b.scope:dojo.global;if(_6b.onError){_6b.onError.call(_71,_6f);}};var _72=function(_73,_74){var _75=_6b.scope?_6b.scope:dojo.global;try{var _76=null;if(_73&&_73.length==1){_76=_73[0];}if(_6b.onItem){_6b.onItem.call(_75,_76);}}catch(error){if(_6b.onError){_6b.onError.call(_75,error);}}};var _77={serverQuery:{id:_6b.identity}};this._fetchItems(_77,_72,_6e);},getIdentity:function(_78){var _79=null;if(this._identifier===Number){_79=_78.n;}else{_79=_78.i[this._identifier];}return _79;},getIdentityAttributes:function(_7a){return [this._identifier];}});}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _7b=dojo.doc;if(_7b.selection){var s=_7b.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _7d=dojo.global;var _7e=_7d.getSelection();if(dojo.isString(_7e)){return !_7e;}else{return !_7e||_7e.isCollapsed||!_7e.toString();}}},getBookmark:function(){var _7f,_80=dojo.doc.selection;if(_80){var _81=_80.createRange();if(_80.type.toUpperCase()=="CONTROL"){if(_81.length){_7f=[];var i=0,len=_81.length;while(i<len){_7f.push(_81.item(i++));}}else{_7f=null;}}else{_7f=_81.getBookmark();}}else{if(window.getSelection){_80=dojo.global.getSelection();if(_80){_81=_80.getRangeAt(0);_7f=_81.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _7f;},moveToBookmark:function(_84){var _85=dojo.doc;if(_85.selection){var _86;if(dojo.isArray(_84)){_86=_85.body.createControlRange();dojo.forEach(_84,function(n){_86.addElement(n);});}else{_86=_85.selection.createRange();_86.moveToBookmark(_84);}_86.select();}else{var _88=dojo.global.getSelection&&dojo.global.getSelection();if(_88&&_88.removeAllRanges){_88.removeAllRanges();_88.addRange(_84);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(_89,_8a){return {node:_89&&dojo.isDescendant(dijit._curFocus,_89.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_8a||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_8a||dojo.global,dijit.getBookmark):null,openedForWindow:_8a};},focus:function(_8b){if(!_8b){return;}var _8c="node" in _8b?_8b.node:_8b,_8d=_8b.bookmark,_8e=_8b.openedForWindow;if(_8c){var _8f=(_8c.tagName.toLowerCase()=="iframe")?_8c.contentWindow:_8c;if(_8f&&_8f.focus){try{_8f.focus();}catch(e){}}dijit._onFocusNode(_8c);}if(_8d&&dojo.withGlobal(_8e||dojo.global,dijit.isCollapsed)){if(_8e){_8e.focus();}try{dojo.withGlobal(_8e||dojo.global,dijit.moveToBookmark,null,[_8d]);}catch(e){}}},_activeStack:[],registerIframe:function(_90){dijit.registerWin(_90.contentWindow,_90);},registerWin:function(_91,_92){dojo.connect(_91.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_92||evt.target||evt.srcElement);});var doc=_91.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(_92||evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(_92||evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(_92||evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(_92||evt.target);},true);}}doc=null;},_onBlurNode:function(_99){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_9a){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _9b=[];try{while(_9a){if(_9a.dijitPopupParent){_9a=dijit.byId(_9a.dijitPopupParent).domNode;}else{if(_9a.tagName&&_9a.tagName.toLowerCase()=="body"){if(_9a===dojo.body()){break;}_9a=dijit.getDocumentWindow(_9a.ownerDocument).frameElement;}else{var id=_9a.getAttribute&&_9a.getAttribute("widgetId");if(id){_9b.unshift(id);}_9a=_9a.parentNode;}}}}catch(e){}dijit._setStack(_9b);},_onFocusNode:function(_9d){if(!_9d){return;}if(_9d.nodeType==9){return;}dijit._onTouchNode(_9d);if(_9d==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_9d;dojo.publish("focusNode",[_9d]);},_setStack:function(_9e){var _9f=dijit._activeStack;dijit._activeStack=_9e;for(var _a0=0;_a0<Math.min(_9f.length,_9e.length);_a0++){if(_9f[_a0]!=_9e[_a0]){break;}}for(var i=_9f.length-1;i>=_a0;i--){var _a2=dijit.byId(_9f[i]);if(_a2){_a2._focused=false;_a2._hasBeenBlurred=true;if(_a2._onBlur){_a2._onBlur();}if(_a2._setStateClass){_a2._setStateClass();}dojo.publish("widgetBlur",[_a2]);}}for(i=_a0;i<_9e.length;i++){_a2=dijit.byId(_9e[i]);if(_a2){_a2._focused=true;if(_a2._onFocus){_a2._onFocus();}if(_a2._setStateClass){_a2._setStateClass();}dojo.publish("widgetFocus",[_a2]);}}}});dojo.addOnLoad(function(){dijit.registerWin(window);});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_a3){if(this._hash[_a3.id]){throw new Error("Tried to register widget with id=="+_a3.id+" but that id is already registered");}this._hash[_a3.id]=_a3;},remove:function(id){delete this._hash[id];},forEach:function(_a5){for(var id in this._hash){_a5(this._hash[id]);}},filter:function(_a7){var res=new dijit.WidgetSet();this.forEach(function(_a9){if(_a7(_a9)){res.add(_a9);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_ac){return _ac.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_ad){var id;do{id=_ad+"_"+(_ad in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_ad]:dijit._widgetTypeCtr[_ad]=0);}while(dijit.byId(id));return id;};dijit.findWidgets=function(_af){var _b0=[];function _b1(_b2){var _b3=dojo.isIE?_b2.children:_b2.childNodes,i=0,_b5;while(_b5=_b3[i++]){if(_b5.nodeType!=1){continue;}var _b6=_b5.getAttribute("widgetId");if(_b6){var _b7=dijit.byId(_b6);_b0.push(_b7);}else{_b1(_b5);}}};_b1(_af);return _b0;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(_b8){if(_b8.destroyRecursive){_b8.destroyRecursive();}else{if(_b8.destroy){_b8.destroy();}}});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_ba){return dijit.registry.byId(_ba.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_bb){while(_bb){if(_bb.getAttribute&&_bb.getAttribute("widgetId")){return dijit.registry.byId(_bb.getAttribute("widgetId"));}_bb=_bb.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(_bc){var _bd=dojo.style(_bc);return (_bd.visibility!="hidden")&&(_bd.visibility!="collapsed")&&(_bd.display!="none")&&(dojo.attr(_bc,"type")!="hidden");};dijit.isTabNavigable=function(_be){if(dojo.hasAttr(_be,"disabled")){return false;}var _bf=dojo.hasAttr(_be,"tabindex");var _c0=dojo.attr(_be,"tabindex");if(_bf&&_c0>=0){return true;}var _c1=_be.nodeName.toLowerCase();if(((_c1=="a"&&dojo.hasAttr(_be,"href"))||dijit._tabElements[_c1])&&(!_bf||_c0>=0)){return true;}return false;};dijit._getTabNavigable=function(_c2){var _c3,_c4,_c5,_c6,_c7,_c8;var _c9=function(_ca){dojo.query("> *",_ca).forEach(function(_cb){var _cc=dijit._isElementShown(_cb);if(_cc&&dijit.isTabNavigable(_cb)){var _cd=dojo.attr(_cb,"tabindex");if(!dojo.hasAttr(_cb,"tabindex")||_cd==0){if(!_c3){_c3=_cb;}_c4=_cb;}else{if(_cd>0){if(!_c5||_cd<_c6){_c6=_cd;_c5=_cb;}if(!_c7||_cd>=_c8){_c8=_cd;_c7=_cb;}}}}if(_cc&&_cb.nodeName.toUpperCase()!="SELECT"){_c9(_cb);}});};if(dijit._isElementShown(_c2)){_c9(_c2);}return {first:_c3,last:_c4,lowest:_c5,highest:_c7};};dijit.getFirstInTabbingOrder=function(_ce){var _cf=dijit._getTabNavigable(dojo.byId(_ce));return _cf.lowest?_cf.lowest:_cf.first;};dijit.getLastInTabbingOrder=function(_d0){var _d1=dijit._getTabNavigable(dojo.byId(_d0));return _d1.last?_d1.last:_d1.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_d2){this.pairs=[];this.returnWrappers=_d2||false;};dojo.extend(dojo.AdapterRegistry,{register:function(_d3,_d4,_d5,_d6,_d7){this.pairs[((_d7)?"unshift":"push")]([_d3,_d4,_d5,_d6]);},match:function(){for(var i=0;i<this.pairs.length;i++){var _d9=this.pairs[i];if(_d9[1].apply(this,arguments)){if((_d9[3])||(this.returnWrappers)){return _d9[2];}else{return _d9[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(_da){for(var i=0;i<this.pairs.length;i++){var _dc=this.pairs[i];if(_dc[0]==_da){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _dd=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _de=dojo._docScroll();return {w:_dd.clientWidth,h:_dd.clientHeight,l:_de.x,t:_de.y};};dijit.placeOnScreen=function(_df,pos,_e1,_e2){var _e3=dojo.map(_e1,function(_e4){var c={corner:_e4,pos:{x:pos.x,y:pos.y}};if(_e2){c.pos.x+=_e4.charAt(1)=="L"?_e2.x:-_e2.x;c.pos.y+=_e4.charAt(0)=="T"?_e2.y:-_e2.y;}return c;});return dijit._place(_df,_e3);};dijit._place=function(_e6,_e7,_e8){var _e9=dijit.getViewport();if(!_e6.parentNode||String(_e6.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_e6);}var _ea=null;dojo.some(_e7,function(_eb){var _ec=_eb.corner;var pos=_eb.pos;if(_e8){_e8(_e6,_eb.aroundCorner,_ec);}var _ee=_e6.style;var _ef=_ee.display;var _f0=_ee.visibility;_ee.visibility="hidden";_ee.display="";var mb=dojo.marginBox(_e6);_ee.display=_ef;_ee.visibility=_f0;var _f2=(_ec.charAt(1)=="L"?pos.x:Math.max(_e9.l,pos.x-mb.w)),_f3=(_ec.charAt(0)=="T"?pos.y:Math.max(_e9.t,pos.y-mb.h)),_f4=(_ec.charAt(1)=="L"?Math.min(_e9.l+_e9.w,_f2+mb.w):pos.x),_f5=(_ec.charAt(0)=="T"?Math.min(_e9.t+_e9.h,_f3+mb.h):pos.y),_f6=_f4-_f2,_f7=_f5-_f3,_f8=(mb.w-_f6)+(mb.h-_f7);if(_ea==null||_f8<_ea.overflow){_ea={corner:_ec,aroundCorner:_eb.aroundCorner,x:_f2,y:_f3,w:_f6,h:_f7,overflow:_f8};}return !_f8;});_e6.style.left=_ea.x+"px";_e6.style.top=_ea.y+"px";if(_ea.overflow&&_e8){_e8(_e6,_ea.aroundCorner,_ea.corner);}return _ea;};dijit.placeOnScreenAroundNode=function(_f9,_fa,_fb,_fc){_fa=dojo.byId(_fa);var _fd=_fa.style.display;_fa.style.display="";var _fe=_fa.offsetWidth;var _ff=_fa.offsetHeight;var _100=dojo.coords(_fa,true);_fa.style.display=_fd;return dijit._placeOnScreenAroundRect(_f9,_100.x,_100.y,_fe,_ff,_fb,_fc);};dijit.placeOnScreenAroundRectangle=function(node,_102,_103,_104){return dijit._placeOnScreenAroundRect(node,_102.x,_102.y,_102.width,_102.height,_103,_104);};dijit._placeOnScreenAroundRect=function(node,x,y,_108,_109,_10a,_10b){var _10c=[];for(var _10d in _10a){_10c.push({aroundCorner:_10d,corner:_10a[_10d],pos:{x:x+(_10d.charAt(1)=="L"?0:_108),y:y+(_10d.charAt(0)=="T"?0:_109)}});}return dijit._place(node,_10c,_10b);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_113,_114,_115){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _118=[],_119=1000,_11a=1;this.prepare=function(node){var s=node.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(node);};this.open=function(args){var _11e=args.popup,_11f=args.orient||{"BL":"TL","TL":"BL"},_120=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+_11a++);var _122=dojo.create("div",{id:id,"class":"dijitPopup",style:{zIndex:_119+_118.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(_122,"presentation");_122.style.left=_122.style.top="0px";if(args.parent){_122.dijitPopupParent=args.parent.id;}var s=_11e.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_122.appendChild(_11e.domNode);var _124=new dijit.BackgroundIframe(_122);var best=_120?dijit.placeOnScreenAroundElement(_122,_120,_11f,_11e.orient?dojo.hitch(_11e,"orient"):null):dijit.placeOnScreen(_122,args,_11f=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_122.style.visibility="visible";var _126=[];var _127=function(){for(var pi=_118.length-1;pi>0&&_118[pi].parent===_118[pi-1].widget;pi--){}return _118[pi];};_126.push(dojo.connect(_122,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _12a=_127();if(_12a&&_12a.onCancel){_12a.onCancel();}}}}));if(_11e.onCancel){_126.push(dojo.connect(_11e,"onCancel",null,args.onCancel));}_126.push(dojo.connect(_11e,_11e.onExecute?"onExecute":"onChange",null,function(){var _12b=_127();if(_12b&&_12b.onExecute){_12b.onExecute();}}));_118.push({wrapper:_122,iframe:_124,widget:_11e,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_126});if(_11e.onOpen){_11e.onOpen(best);}return best;};this.close=function(_12c){while(dojo.some(_118,function(elem){return elem.widget==_12c;})){var top=_118.pop(),_12f=top.wrapper,_130=top.iframe,_131=top.widget,_132=top.onClose;if(_131.onClose){_131.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_131||!_131.domNode){return;}this.prepare(_131.domNode);_130.destroy();dojo.destroy(_12f);if(_132){_132();}}};}();dijit._frames=new function(){var _133=[];this.pop=function(){var _134;if(_133.length){_134=_133.pop();_134.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_134=dojo.doc.createElement(html);}else{_134=dojo.create("iframe");_134.src="javascript:\"\"";_134.className="dijitBackgroundIframe";}_134.tabIndex=-1;dojo.body().appendChild(_134);}return _134;};this.push=function(_137){_137.style.display="none";if(dojo.isIE){_137.style.removeExpression("width");_137.style.removeExpression("height");}_133.push(_137);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _139=dijit._frames.pop();node.appendChild(_139);if(dojo.isIE){_139.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_139.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_139;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){try{node=dojo.byId(node);var doc=dojo.doc;var body=dojo.body();var html=body.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||node==body||node==html)&&(typeof node.scrollIntoView=="function")){node.scrollIntoView(false);return;}var ltr=dojo._isBodyLtr();var _13f=dojo.isIE>=8&&!_140;var rtl=!ltr&&!_13f;var _142=body;var _140=doc.compatMode=="BackCompat";if(_140){html._offsetWidth=html._clientWidth=body._offsetWidth=body.clientWidth;html._offsetHeight=html._clientHeight=body._offsetHeight=body.clientHeight;}else{if(dojo.isWebKit){body._offsetWidth=body._clientWidth=html.clientWidth;body._offsetHeight=body._clientHeight=html.clientHeight;}else{_142=html;}html._offsetHeight=html.clientHeight;html._offsetWidth=html.clientWidth;}function _143(_144){var ie=dojo.isIE;return ((ie<=6||(ie>=7&&_140))?false:(dojo.style(_144,"position").toLowerCase()=="fixed"));};function _146(_147){var _148=_147.parentNode;var _149=_147.offsetParent;if(_149==null||_143(_147)){_149=html;_148=(_147==body)?html:null;}_147._offsetParent=_149;_147._parent=_148;var bp=dojo._getBorderExtents(_147);_147._borderStart={H:(_13f&&!ltr)?(bp.w-bp.l):bp.l,V:bp.t};_147._borderSize={H:bp.w,V:bp.h};_147._scrolledAmount={H:_147.scrollLeft,V:_147.scrollTop};_147._offsetSize={H:_147._offsetWidth||_147.offsetWidth,V:_147._offsetHeight||_147.offsetHeight};_147._offsetStart={H:(_13f&&!ltr)?_149.clientWidth-_147.offsetLeft-_147._offsetSize.H:_147.offsetLeft,V:_147.offsetTop};_147._clientSize={H:_147._clientWidth||_147.clientWidth,V:_147._clientHeight||_147.clientHeight};if(_147!=body&&_147!=html&&_147!=node){for(var dir in _147._offsetSize){var _14c=_147._offsetSize[dir]-_147._clientSize[dir]-_147._borderSize[dir];var _14d=_147._clientSize[dir]>0&&_14c>0;if(_14d){_147._offsetSize[dir]-=_14c;if(dojo.isIE&&rtl&&dir=="H"){_147._offsetStart[dir]+=_14c;}}}}};var _14e=node;while(_14e!=null){if(_143(_14e)){node.scrollIntoView(false);return;}_146(_14e);_14e=_14e._parent;}if(dojo.isIE&&node._parent){var _14f=node._offsetParent;node._offsetStart.H+=_14f._borderStart.H;node._offsetStart.V+=_14f._borderStart.V;}if(dojo.isIE>=7&&_142==html&&rtl&&body._offsetStart&&body._offsetStart.H==0){var _150=html.scrollWidth-html._offsetSize.H;if(_150>0){body._offsetStart.H=-_150;}}if(dojo.isIE<=6&&!_140){html._offsetSize.H+=html._borderSize.H;html._offsetSize.V+=html._borderSize.V;}if(rtl&&body._offsetStart&&_142==html&&html._scrolledAmount){var ofs=body._offsetStart.H;if(ofs<0){html._scrolledAmount.H+=ofs;body._offsetStart.H=0;}}_14e=node;while(_14e){var _152=_14e._parent;if(!_152){break;}if(_152.tagName=="TD"){var _153=_152._parent._parent._parent;if(_152!=_14e._offsetParent&&_152._offsetParent!=_14e._offsetParent){_152=_153;}}var _154=_14e._offsetParent==_152;for(var dir in _14e._offsetStart){var _156=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(_152!=html)&&(_152!=body)&&(dojo.isIE||dojo.isWebKit)&&_152._clientSize.H>0&&_152.scrollWidth>_152._clientSize.H){var _157=_152.scrollWidth-_152._clientSize.H;if(_157>0){_152._scrolledAmount.H-=_157;}}if(_152._offsetParent.tagName=="TABLE"){if(dojo.isIE){_152._offsetStart[dir]-=_152._offsetParent._borderStart[dir];_152._borderStart[dir]=_152._borderSize[dir]=0;}else{_152._offsetStart[dir]+=_152._offsetParent._borderStart[dir];}}if(dojo.isIE){_152._offsetStart[dir]+=_152._offsetParent._borderStart[dir];}var _158=_14e._offsetStart[dir]-_152._scrolledAmount[dir]-(_154?0:_152._offsetStart[dir])-_152._borderStart[dir];var _159=_158+_14e._offsetSize[dir]-_152._offsetSize[dir]+_152._borderSize[dir];var _15a=(dir=="H")?"scrollLeft":"scrollTop";var _15b=dir=="H"&&rtl;var _15c=_15b?-_159:_158;var _15d=_15b?-_158:_159;var _15e=(_15c*_15d<=0)?0:Math[(_15c<0)?"max":"min"](_15c,_15d);if(_15e!=0){var _15f=_152[_15a];_152[_15a]+=(_15b)?-_15e:_15e;var _160=_152[_15a]-_15f;}if(_154){_14e._offsetStart[dir]+=_152._offsetStart[dir];}_14e._offsetStart[dir]-=_152[_15a];}_14e._parent=_152._parent;_14e._offsetParent=_152._offsetParent;}_152=node;var next;while(_152&&_152.removeAttribute){next=_152.parentNode;_152.removeAttribute("_offsetParent");_152.removeAttribute("_parent");_152=next;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_165=d.isOpera,maj=Math.floor,ff=d.isFF,_168=d.boxModel.replace(/-/,""),_169={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_165,dj_opera8:maj(_165)==8,dj_opera9:maj(_165)==9,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_169["dj_"+_168]=true;for(var p in _169){if(_169[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _169){if(_169[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_16d,node,_16f,obj,_171,_172){if(obj!=this._obj){this.stop();this._initialDelay=_172||500;this._subsequentDelay=_171||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_16d,_16f);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_174,_175,_176,_177,_178){if(_174.keyCode){_174.charOrCode=_174.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_174.charCode){_174.charOrCode=String.fromCharCode(_174.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_174.charOrCode&&(_174.ctrlKey===undefined||_174.ctrlKey==evt.ctrlKey)&&(_174.altKey===undefined||_174.altKey==evt.ctrlKey)&&(_174.shiftKey===undefined||_174.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_174,_175,node,_176,_174,_177,_178);}else{if(dijit.typematic._obj==_174){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_174){dijit.typematic.stop();}})];},addMouseListener:function(node,_17c,_17d,_17e,_17f){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_17c,node,_17d,node,_17e,_17f);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_17c,node,_17d,node,_17e,_17f);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_186,_187,_188,_189,_18a,_18b,_18c){return this.addKeyListener(_187,_188,_189,_18a,_18b,_18c).concat(this.addMouseListener(_186,_189,_18a,_18b,_18c));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _18f=cs.backgroundImage;var _190=(cs.borderTopColor==cs.borderRightColor)||(_18f!=null&&(_18f=="none"||_18f=="url(invalid-url:)"));dojo[_190?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _193=this.getWaiRole(elem);return role?(_193.indexOf(role)>-1):(_193.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _197=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_197)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_197+" ").indexOf(" "+role+" ")<0){var _198=dojo.trim(_197.replace(this._XhtmlRoles,""));var _199=dojo.trim(_197.replace(_198,""));dojo.attr(elem,"role",_199+(_199?" ":"")+role);}}},removeWaiRole:function(elem,role){var _19c=dojo.attr(elem,"role");if(!_19c){return;}if(role){var _19d=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_19c+" ").replace(" "+_19d+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_1a0){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_1a0);}return elem.hasAttribute?elem.hasAttribute("aria-"+_1a0):!!elem.getAttribute("aria-"+_1a0);},getWaiState:function(elem,_1a2){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_1a2);}return elem.getAttribute("aria-"+_1a2)||"";},setWaiState:function(elem,_1a4,_1a5){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_1a4,_1a5);}else{elem.setAttribute("aria-"+_1a4,_1a5);}},removeWaiState:function(elem,_1a7){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_1a7);}else{elem.removeAttribute("aria-"+_1a7);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_1a8,_1a9){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _1aa=dojo.date.stamp._isoRegExp.exec(_1a8);var _1ab=null;if(_1aa){_1aa.shift();if(_1aa[1]){_1aa[1]--;}if(_1aa[6]){_1aa[6]*=1000;}if(_1a9){_1a9=new Date(_1a9);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _1a9["get"+prop]();}).forEach(function(_1ad,_1ae){if(_1aa[_1ae]===undefined){_1aa[_1ae]=_1ad;}});}_1ab=new Date(_1aa[0]||1970,_1aa[1]||0,_1aa[2]||1,_1aa[3]||0,_1aa[4]||0,_1aa[5]||0,_1aa[6]||0);var _1af=0;var _1b0=_1aa[7]&&_1aa[7].charAt(0);if(_1b0!="Z"){_1af=((_1aa[8]||0)*60)+(Number(_1aa[9])||0);if(_1b0!="-"){_1af*=-1;}}if(_1b0){_1af-=_1ab.getTimezoneOffset();}if(_1af){_1ab.setTime(_1ab.getTime()+_1af*60000);}}return _1ab;};dojo.date.stamp.toISOString=function(_1b1,_1b2){var _=function(n){return (n<10)?"0"+n:n;};_1b2=_1b2||{};var _1b5=[];var _1b6=_1b2.zulu?"getUTC":"get";var date="";if(_1b2.selector!="time"){var year=_1b1[_1b6+"FullYear"]();date=["0000".substr((year+"").length)+year,_(_1b1[_1b6+"Month"]()+1),_(_1b1[_1b6+"Date"]())].join("-");}_1b5.push(date);if(_1b2.selector!="date"){var time=[_(_1b1[_1b6+"Hours"]()),_(_1b1[_1b6+"Minutes"]()),_(_1b1[_1b6+"Seconds"]())].join(":");var _1ba=_1b1[_1b6+"Milliseconds"]();if(_1b2.milliseconds){time+="."+(_1ba<100?"0":"")+_(_1ba);}if(_1b2.zulu){time+="Z";}else{if(_1b2.selector!="time"){var _1bb=_1b1.getTimezoneOffset();var _1bc=Math.abs(_1bb);time+=(_1bb>0?"-":"+")+_(Math.floor(_1bc/60))+":"+_(_1bc%60);}}_1b5.push(time);}return _1b5.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _1be=d._scopeName+"Type";var qry="["+_1be+"]";var _1c0=0,_1c1={};var _1c2=function(_1c3,_1c4){var nso=_1c4||_1c1;if(dojo.isIE){var cn=_1c3["__dojoNameCache"];if(cn&&nso[cn]===_1c3){return cn;}}var name;do{name="__"+_1c0++;}while(name in nso);nso[name]=_1c3;return name;};function _1c8(_1c9){if(d.isString(_1c9)){return "string";}if(typeof _1c9=="number"){return "number";}if(typeof _1c9=="boolean"){return "boolean";}if(d.isFunction(_1c9)){return "function";}if(d.isArray(_1c9)){return "array";}if(_1c9 instanceof Date){return "date";}if(_1c9 instanceof d._Url){return "url";}return "object";};function _1ca(_1cb,type){switch(type){case "string":return _1cb;case "number":return _1cb.length?Number(_1cb):NaN;case "boolean":return typeof _1cb=="boolean"?_1cb:!(_1cb.toLowerCase()=="false");case "function":if(d.isFunction(_1cb)){_1cb=_1cb.toString();_1cb=d.trim(_1cb.substring(_1cb.indexOf("{")+1,_1cb.length-1));}try{if(_1cb.search(/[^\w\.]+/i)!=-1){_1cb=_1c2(new Function(_1cb),this);}return d.getObject(_1cb,false);}catch(e){return new Function();}case "array":return _1cb?_1cb.split(/\s*,\s*/):[];case "date":switch(_1cb){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_1cb);}case "url":return d.baseUrl+_1cb;default:return d.fromJson(_1cb);}};var _1cd={};function _1ce(_1cf){if(!_1cd[_1cf]){var cls=d.getObject(_1cf);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_1cf+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _1d1=cls.prototype;var _1d2={},_1d3={};for(var name in _1d1){if(name.charAt(0)=="_"){continue;}if(name in _1d3){continue;}var _1d5=_1d1[name];_1d2[name]=_1c8(_1d5);}_1cd[_1cf]={cls:cls,params:_1d2};}return _1cd[_1cf];};this._functionFromScript=function(_1d6){var _1d7="";var _1d8="";var _1d9=_1d6.getAttribute("args");if(_1d9){d.forEach(_1d9.split(/\s*,\s*/),function(part,idx){_1d7+="var "+part+" = arguments["+idx+"]; ";});}var _1dc=_1d6.getAttribute("with");if(_1dc&&_1dc.length){d.forEach(_1dc.split(/\s*,\s*/),function(part){_1d7+="with("+part+"){";_1d8+="}";});}return new Function(_1d7+_1d6.innerHTML+_1d8);};this.instantiate=function(_1de,_1df){var _1e0=[];_1df=_1df||{};d.forEach(_1de,function(node){if(!node){return;}var type=_1be in _1df?_1df[_1be]:node.getAttribute(_1be);if(!type||!type.length){return;}var _1e3=_1ce(type),_1e4=_1e3.cls,ps=_1e4._noScript||_1e4.prototype._noScript;var _1e6={},_1e7=node.attributes;for(var name in _1e3.params){var item=name in _1df?{value:_1df[name],specified:true}:_1e7.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _1ea=item.value;switch(name){case "class":_1ea="className" in _1df?_1df.className:node.className;break;case "style":_1ea="style" in _1df?_1df.style:(node.style&&node.style.cssText);}var _1eb=_1e3.params[name];if(typeof _1ea=="string"){_1e6[name]=_1ca(_1ea,_1eb);}else{_1e6[name]=_1ea;}}if(!ps){var _1ec=[],_1ed=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_1ee){var _1ef=_1ee.getAttribute("event"),type=_1ee.getAttribute("type"),nf=d.parser._functionFromScript(_1ee);if(_1ef){if(type=="dojo/connect"){_1ec.push({event:_1ef,func:nf});}else{_1e6[_1ef]=nf;}}else{_1ed.push(nf);}});}var _1f1=_1e4["markupFactory"];if(!_1f1&&_1e4["prototype"]){_1f1=_1e4.prototype["markupFactory"];}var _1f2=_1f1?_1f1(_1e6,node,_1e4):new _1e4(_1e6,node);_1e0.push(_1f2);var _1f3=node.getAttribute("jsId");if(_1f3){d.setObject(_1f3,_1f2);}if(!ps){d.forEach(_1ec,function(_1f4){d.connect(_1f2,_1f4.event,null,_1f4.func);});d.forEach(_1ed,function(func){func.call(_1f2);});}});d.forEach(_1e0,function(_1f6){if(_1f6&&_1f6.startup&&!_1f6._started&&(!_1f6.getParent||!_1f6.getParent())){_1f6.startup();}});return _1e0;};this.parse=function(_1f7){var list=d.query(qry,_1f7);var _1f9=this.instantiate(list);return _1f9;};}();(function(){var _1fa=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_1fa);}else{dojo._loaders.unshift(_1fa);}})();}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_1fb,_1fc){if(_1fb&&dojo.isFunction(_1fb._onConnect)){_1fb._onConnect(_1fc);}});dijit._connectOnUseEventHandler=function(_1fd){};(function(){var _1fe={};var _1ff=function(dc){if(!_1fe[dc]){var r=[];var _202;var _203=dojo.getObject(dc).prototype;for(var _204 in _203){if(dojo.isFunction(_203[_204])&&(_202=_204.match(/^_set([a-zA-Z]*)Attr$/))&&_202[1]){r.push(_202[1].charAt(0).toLowerCase()+_202[1].substr(1));}}_1fe[dc]=r;}return _1fe[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_205,_206){this.create(_205,_206);},create:function(_207,_208){this.srcNodeRef=dojo.byId(_208);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_207){this.params=_207;dojo.mixin(this,_207);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _20a=this.srcNodeRef;if(_20a&&_20a.parentNode){_20a.parentNode.replaceChild(this.domNode,_20a);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _20b=function(attr,_20d){if((_20d.params&&attr in _20d.params)||_20d[attr]){_20d.attr(attr,_20d[attr]);}};for(var attr in this.attributeMap){_20b(attr,this);}dojo.forEach(_1ff(this.declaredClass),function(a){if(!(a in this.attributeMap)){_20b(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_210){this.destroyDescendants(_210);this.destroy(_210);},destroy:function(_211){this.uninitialize();dojo.forEach(this._connects,function(_212){dojo.forEach(_212,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_211);dijit.registry.remove(this.id);},destroyRendering:function(_214){if(this.bgIframe){this.bgIframe.destroy(_214);delete this.bgIframe;}if(this.domNode){if(_214){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_214){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_215){dojo.forEach(this.getChildren(),function(_216){if(_216.destroyRecursive){_216.destroyRecursive(_215);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_218){if(_218 in this._deferredConnects){var _219=this[this._deferredConnects[_218]||"domNode"];this.connect(_219,_218.toLowerCase(),_218);delete this._deferredConnects[_218];}},_setClassAttr:function(_21a){var _21b=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_21b,this["class"]);this["class"]=_21a;dojo.addClass(_21b,_21a);},_setStyleAttr:function(_21c){var _21d=this[this.attributeMap["style"]||"domNode"];if(dojo.isObject(_21c)){dojo.style(_21d,_21c);}else{if(_21d.style.cssText){_21d.style.cssText+="; "+_21c;}else{_21d.style.cssText=_21c;}}this["style"]=_21c;},setAttribute:function(attr,_21f){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_21f);},_attrToDom:function(attr,_221){var _222=this.attributeMap[attr];dojo.forEach(dojo.isArray(_222)?_222:[_222],function(_223){var _224=this[_223.node||_223||"domNode"];var type=_223.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_221)){_221=dojo.hitch(this,_221);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_224,attr,_221);break;case "innerHTML":_224.innerHTML=_221;break;case "class":dojo.removeClass(_224,this[attr]);dojo.addClass(_224,_221);break;}},this);this[attr]=_221;},attr:function(name,_227){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _22a=this._getAttrNames(name);if(args==2){if(this[_22a.s]){return this[_22a.s](_227)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_227);}this[name]=_227;}return this;}else{if(this[_22a.g]){return this[_22a.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},getChildren:function(){if(this.containerNode){return dijit.findWidgets(this.containerNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_230,_231){var d=dojo;var dc=dojo.connect;var _234=[];if(_230=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_231);_234.push(dc(obj,"onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dc(obj,"onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));if(d.isFF){_234.push(dc(obj,"onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));}}_230="onclick";}_234.push(dc(obj,_230,this,_231));this._connects.push(_234);return _234;},disconnect:function(_239){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_239){dojo.forEach(_239,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_23b,_23c){if(_23b["declaredClass"]&&_23b["addChild"]){_23b.addChild(this,_23c);}else{dojo.place(this.domNode,_23b,_23c);}return this;}});})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _23e=this.declaredClass,_23f=this;return dojo.string.substitute(tmpl,this,function(_240,key){if(key.charAt(0)=="!"){_240=dojo.getObject(key.substr(1),false,_23f);}if(typeof _240=="undefined"){throw new Error(_23e+" template:"+key);}if(_240==null){return "";}return key.charAt(0)=="!"?_240:_240.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _242=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_242)){node=dojo._toDom(this._stringRepl(_242));}else{node=_242.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_247){var dest=this.containerNode;if(_247&&dest){while(_247.hasChildNodes()){dest.appendChild(_247.firstChild);}}},_attachTemplateNodes:function(_249,_24a){_24a=_24a||function(n,p){return n.getAttribute(p);};var _24d=dojo.isArray(_249)?_249:(_249.all||_249.getElementsByTagName("*"));var x=dojo.isArray(_249)?0:-1;for(;x<_24d.length;x++){var _24f=(x==-1)?_249:_24d[x];if(this.widgetsInTemplate&&_24a(_24f,"dojoType")){continue;}var _250=_24a(_24f,"dojoAttachPoint");if(_250){var _251,_252=_250.split(/\s*,\s*/);while((_251=_252.shift())){if(dojo.isArray(this[_251])){this[_251].push(_24f);}else{this[_251]=_24f;}}}var _253=_24a(_24f,"dojoAttachEvent");if(_253){var _254,_255=_253.split(/\s*,\s*/);var trim=dojo.trim;while((_254=_255.shift())){if(_254){var _257=null;if(_254.indexOf(":")!=-1){var _258=_254.split(":");_254=trim(_258[0]);_257=trim(_258[1]);}else{_254=trim(_254);}if(!_257){_257=_254;}this.connect(_24f,_254,_257);}}}var role=_24a(_24f,"waiRole");if(role){dijit.setWaiRole(_24f,role);}var _25a=_24a(_24f,"waiState");if(_25a){dojo.forEach(_25a.split(/\s*,\s*/),function(_25b){if(_25b.indexOf("-")!=-1){var pair=_25b.split("-");dijit.setWaiState(_24f,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_25d,_25e,_25f){var _260=dijit._Templated._templateCache;var key=_25e||_25d;var _262=_260[key];if(_262){if(!_262.ownerDocument||_262.ownerDocument==dojo.doc){return _262;}dojo.destroy(_262);}if(!_25e){_25e=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(_25d)));}_25e=dojo.string.trim(_25e);if(_25f||_25e.match(/\$\{([^\}]+)\}/g)){return (_260[key]=_25e);}else{return (_260[key]=dojo._toDom(_25e));}};dijit._Templated._sanitizeTemplateString=function(_263){if(_263){_263=_263.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _264=_263.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_264){_263=_264[1];}}else{_263="";}return _263;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _265=dijit._Templated._templateCache;for(var key in _265){var _267=_265[key];if(!isNaN(_267.nodeType)){dojo.destroy(_267);}delete _265[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_268,_269){var _26a=this.containerNode;if(_269&&typeof _269=="number"){var _26b=this.getChildren();if(_26b&&_26b.length>=_269){_26a=_26b[_269-1].domNode;_269="after";}}dojo.place(_268.domNode,_26a,_269);if(this._started&&!_268._started){_268.startup();}},removeChild:function(_26c){if(typeof _26c=="number"&&_26c>0){_26c=this.getChildren()[_26c];}if(!_26c||!_26c.domNode){return;}var node=_26c.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return !!this._firstElement(this.containerNode);},destroyDescendants:function(_270){dojo.forEach(this.getChildren(),function(_271){_271.destroyRecursive(_270);});},_getSiblingOfChild:function(_272,dir){var node=_272.domNode;var _275=(dir>0?"nextSibling":"previousSibling");do{node=node[_275];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;},getIndexOfChild:function(_276){var _277=this.getChildren();for(var i=0,c;c=_277[i];i++){if(c==_276){return i;}}return -1;}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _27c=dijit.byId(id);return _27c.isContainer?_27c:null;}}return null;},_getSibling:function(_27d){var node=this.domNode;do{node=node[_27d+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_281){_281.startup();});if(!this.getParent||!this.getParent()){this.resize();this._viewport=dijit.getViewport();this.connect(dojo.global,"onresize",function(){var _282=dijit.getViewport();if(_282.w!=this._viewport.w||_282.h!=this._viewport.h){this._viewport=_282;this.resize();}});}this.inherited(arguments);},resize:function(_283,_284){var node=this.domNode;if(_283){dojo.marginBox(node,_283);if(_283.t){node.style.top=_283.t+"px";}if(_283.l){node.style.left=_283.l+"px";}}var mb=_284||{};dojo.mixin(mb,_283||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_28c){dojo.addClass(_28c.domNode,this.baseClass+"-child");if(_28c.baseClass){dojo.addClass(_28c.domNode,this.baseClass+"-"+_28c.baseClass);}},addChild:function(_28d,_28e){this.inherited(arguments);if(this._started){this._setupChild(_28d);}},removeChild:function(_28f){dojo.removeClass(_28f.domNode,this.baseClass+"-child");if(_28f.baseClass){dojo.removeClass(_28f.domNode,this.baseClass+"-"+_28f.baseClass);}this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _295=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_298,dim){_298.resize?_298.resize(dim):dojo.marginBox(_298.domNode,dim);dojo.mixin(_298,dojo.marginBox(_298.domNode));dojo.mixin(_298,dim);};dijit.layout.layoutChildren=function(_29a,dim,_29c){dim=dojo.mixin({},dim);dojo.addClass(_29a,"dijitLayoutContainer");_29c=dojo.filter(_29c,function(item){return item.layoutAlign!="client";}).concat(dojo.filter(_29c,function(item){return item.layoutAlign=="client";}));dojo.forEach(_29c,function(_29f){var elm=_29f.domNode,pos=_29f.layoutAlign;var _2a2=elm.style;_2a2.left=dim.l+"px";_2a2.top=dim.t+"px";_2a2.bottom=_2a2.right="auto";dojo.addClass(elm,"dijitAlign"+_295(pos));if(pos=="top"||pos=="bottom"){size(_29f,{w:dim.w});dim.h-=_29f.h;if(pos=="top"){dim.t+=_29f.h;}else{_2a2.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_29f,{h:dim.h});dim.w-=_29f.w;if(pos=="left"){dim.l+=_29f.w;}else{_2a2.left=dim.l+dim.w+"px";}}else{if(pos=="client"){size(_29f,dim);}}}});};})();}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_2a3){this.disabled=_2a3;dojo.attr(this.focusNode,"disabled",_2a3);dijit.setWaiState(this.focusNode,"disabled",_2a3);if(_2a3){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_2a4){dojo.deprecated("setDisabled("+_2a4+") is deprecated. Use attr('disabled',"+_2a4+") instead.","","2.0");this.attr("disabled",_2a4);},_onFocus:function(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_2a6){var _2a7=_2a6.currentTarget;if(_2a7&&_2a7.getAttribute){this.stateModifier=_2a7.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_2a6.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _2a8=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_2a8);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _2a9=this.baseClass.split(" ");function _2aa(_2ab){_2a9=_2a9.concat(dojo.map(_2a9,function(c){return c+_2ab;}),"dijit"+_2ab);};if(this.checked){_2aa("Checked");}if(this.state){_2aa(this.state);}if(this.selected){_2aa("Selected");}if(this.disabled){_2aa("Disabled");}else{if(this.readOnly){_2aa("ReadOnly");}else{if(this._active){_2aa(this.stateModifier+"Active");}else{if(this._focused){_2aa("Focused");}if(this._hovering){_2aa(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_2ae={};dojo.forEach(tn.className.split(" "),function(c){_2ae[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _2ae[c];});}dojo.forEach(_2a9,function(c){_2ae[c]=true;});var _2b2=[];for(var c in _2ae){_2b2.push(c);}tn.className=_2b2.join(" ");this._stateClasses=_2a9;},compare:function(val1,val2){if((typeof val1=="number")&&(typeof val2=="number")){return (isNaN(val1)&&isNaN(val2))?0:(val1-val2);}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_2b6){},_onChangeActive:false,_handleOnChange:function(_2b7,_2b8){this._lastValue=_2b7;if(this._lastValueReported==undefined&&(_2b8===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2b7;}if((this.intermediateChanges||_2b8||_2b8===undefined)&&((typeof _2b7!=typeof this._lastValueReported)||this.compare(_2b7,this._lastValueReported)!=0)){this._lastValueReported=_2b7;if(this._onChangeActive){this.onChange(_2b7);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function(_2b9){dojo.deprecated("dijit.form._FormWidget:setValue("+_2b9+") is deprecated.  Use attr('value',"+_2b9+") instead.","","2.0");this.attr("value",_2b9);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function(){if(dojo.isFF==2&&!this._layoutHackHandle){var node=this.domNode;var old=node.style.opacity;node.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;node.style.opacity=old;}),0);}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function(){if(dojo.isIE||dojo.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_2bc,_2bd){this.value=_2bc;this._handleOnChange(_2bc,_2bd);},_getValueAttr:function(_2be){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(dojo.isWebKit){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}}});}if(!dojo._hasResource["dijit.dijit"]){dojo._hasResource["dijit.dijit"]=true;dojo.provide("dijit.dijit");}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",[dijit._Container],{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_2c1,_2c2){var _2c3=this._keyNavCodes={};var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_2c1,function(code){_2c3[code]=prev;});dojo.forEach(_2c2,function(code){_2c3[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_2c8,_2c9){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_2c8);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusNext:function(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return;}var _2ca=this._getNextFocusableChild(this.focusedChild,1);if(_2ca.getFocalNodes){this.focusChild(_2ca,_2ca.getFocalNodes()[0]);}else{this.focusChild(_2ca);}},focusPrev:function(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return;}var _2cb=this._getNextFocusableChild(this.focusedChild,-1);if(_2cb.getFocalNodes){var _2cc=_2cb.getFocalNodes();this.focusChild(_2cb,_2cc[_2cc.length-1]);}else{this.focusChild(_2cb);}},focusChild:function(_2cd,node){if(_2cd){if(this.focusedChild&&_2cd!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_2cd;if(node&&_2cd.focusFocalNode){_2cd.focusFocalNode(node);}else{_2cd.focus();}}},_startupChild:function(_2cf){if(_2cf.getFocalNodes){dojo.forEach(_2cf.getFocalNodes(),function(node){dojo.attr(node,"tabindex",-1);this._connectNode(node);},this);}else{var node=_2cf.focusNode||_2cf.domNode;if(_2cf.isFocusable()){dojo.attr(node,"tabindex",-1);}this._connectNode(node);}},_connectNode:function(node){this.connect(node,"onfocus","_onNodeFocus");this.connect(node,"onblur","_onNodeBlur");},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.removeAttr(this.domNode,"tabIndex");},_onBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex);}},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onNodeFocus:function(evt){var _2d8=dijit.getEnclosingWidget(evt.target);if(_2d8&&_2d8.isFocusable()){this.focusedChild=_2d8;}dojo.stopEvent(evt);},_onNodeBlur:function(evt){dojo.stopEvent(evt);},_onChildBlur:function(_2da){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_2db,dir){if(_2db){_2db=this._getSiblingOfChild(_2db,dir);}var _2dd=this.getChildren();for(var i=0;i<_2dd.length;i++){if(!_2db){_2db=_2dd[(dir>0)?0:(_2dd.length-1)];}if(_2db.isFocusable()){return _2db;}_2db=this._getSiblingOfChild(_2db,dir);}return null;}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\r\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\r\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\">\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\r\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\r\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\">\r\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\r\n\t\t</div>\r\n\t</td>\r\n</tr>\r\n",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(_2df){if(_2df&&!("label" in this.params)){this.attr("label",_2df.innerHTML);}},postCreate:function(){dojo.setSelectable(this.domNode,false);dojo.attr(this.containerNode,"id",this.id+"_text");dijit.setWaiState(this.domNode,"labelledby",this.id+"_text");},_onHover:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemHover(this);},_onUnhover:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemUnhover(this);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){try{dijit.focus(this.focusNode);}catch(e){}},_onFocus:function(){this._setSelected(true);},_setSelected:function(_2e2){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_2e2);},setLabel:function(_2e3){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_2e3);},setDisabled:function(_2e4){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_2e4);},_setDisabledAttr:function(_2e5){this.disabled=_2e5;dojo[_2e5?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",_2e5?"true":"false");},_setAccelKeyAttr:function(_2e6){this.accelKey=_2e6;this.accelKeyNode.style.display=_2e6?"":"none";this.accelKeyNode.innerHTML=_2e6;dojo.attr(this.containerNode,"colSpan",_2e6?"1":"2");}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _2e7=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_2e7[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){this.popup.destroyRecursive();delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitemcheckbox\" tabIndex=\"-1\"\r\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\r\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\">\r\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\r\n\t</td>\r\n</tr>\r\n",checked:false,_setCheckedAttr:function(_2e9){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_2e9);dijit.setWaiState(this.domNode,"checked",_2e9);this.checked=_2e9;},onChange:function(_2ea){},_onClick:function(e){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitMenuSeparator\">\r\n\t<td colspan=\"4\">\r\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\r\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\r\n\t</td>\r\n</tr>\r\n",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_2ec){_2ec.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_2ed){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _2ef=this._getTopMenu();if(_2ef&&_2ef._isMenuBar){_2ef.focusNext();}}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}},_onChildBlur:function(item){item._setSelected(false);dijit.popup.close(item.popup);this._stopPopupTimer();},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(item.disabled){return false;}this.focusChild(item);if(item.popup){if(!this.is_open){this._openPopup();}}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _2f6=this.focusedChild;var _2f7=_2f6.popup;if(_2f7.isShowingNow){return;}_2f7.parentMenu=this;var self=this;dijit.popup.open({parent:this,popup:_2f7,around:_2f6.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR"}:{"TL":"TR","TR":"TL"}),onCancel:function(){dijit.popup.close(_2f7);_2f6.focus();self.currentPopup=null;},onExecute:dojo.hitch(this,"_onDescendantExecute")});this.currentPopup=_2f7;if(_2f7.focus){setTimeout(dojo.hitch(_2f7,"focus"),0);}},onOpen:function(e){this.isShowingNow=true;},onClose:function(){this._stopPopupTimer();this.parentMenu=null;this.isShowingNow=false;this.currentPopup=null;if(this.focusedChild){this._onChildBlur(this.focusedChild);this.focusedChild=null;}},_onFocus:function(){this.isActive=true;dojo.addClass(this.domNode,"dijitMenuActive");dojo.removeClass(this.domNode,"dijitMenuPassive");this.inherited(arguments);},_onBlur:function(){this.isActive=false;dojo.removeClass(this.domNode,"dijitMenuActive");dojo.addClass(this.domNode,"dijitMenuPassive");this.onClose();this.inherited(arguments);},_onDescendantExecute:function(){this.onClose();}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[];},templateString:"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" waiRole=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\">\r\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\r\n</table>\r\n",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,_contextMenuWithMouse:false,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function(_2fd){var win=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(_2fd))||dijit.Menu._iframeContentDocument(_2fd)["__parent__"]||(_2fd.name&&dojo.doc.frames[_2fd.name])||null;return win;},_iframeContentDocument:function(_2ff){var doc=_2ff.contentDocument||(_2ff.contentWindow&&_2ff.contentWindow.document)||(_2ff.name&&dojo.doc.frames[_2ff.name]&&dojo.doc.frames[_2ff.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var win=dijit.getDocumentWindow(node.ownerDocument);if(node.tagName.toLowerCase()=="iframe"){win=this._iframeContentWindow(node);node=dojo.withGlobal(win,dojo.body);}var cn=(node==dojo.body()?dojo.doc:node);node[this.id]=this._bindings.push([dojo.connect(cn,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,"_openMyself"),dojo.connect(cn,"onkeydown",this,"_contextKey"),dojo.connect(cn,"onmousedown",this,"_contextMouse")]);},unBindDomNode:function(_304){var node=dojo.byId(_304);if(node){var bid=node[this.id]-1,b=this._bindings[bid];dojo.forEach(b,dojo.disconnect);delete this._bindings[bid];}},_contextKey:function(e){this._contextMenuWithMouse=false;if(e.keyCode==dojo.keys.F10){dojo.stopEvent(e);if(e.shiftKey&&e.type=="keydown"){var _e={target:e.target,pageX:e.pageX,pageY:e.pageY};_e.preventDefault=_e.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(_e);}),1);}}},_contextMouse:function(e){this._contextMenuWithMouse=true;},_openMyself:function(e){if(this.leftClickToOpen&&e.button>0){return;}dojo.stopEvent(e);var x,y;if(dojo.isSafari||this._contextMenuWithMouse){x=e.pageX;y=e.pageY;}else{var _30e=dojo.coords(e.target,true);x=_30e.x+10;y=_30e.y+10;}var self=this;var _310=dijit.getFocus(this);function _311(){dijit.focus(_310);dijit.popup.close(self);};dijit.popup.open({popup:this,x:x,y:y,onExecute:_311,onCancel:_311,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function(){dojo.forEach(this.targetNodeIds,this.unBindDomNode,this);this.inherited(arguments);}});}if(!dojo._hasResource["dojox.html.metrics"]){dojo._hasResource["dojox.html.metrics"]=true;dojo.provide("dojox.html.metrics");(function(){var dhm=dojox.html.metrics;dhm.getFontMeasurements=function(){var _313={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.border="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";dojo.body().appendChild(div);for(var p in _313){ds.fontSize=p;_313[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _313;};var _317=null;dhm.getCachedFontMeasurements=function(_318){if(_318||!_317){_317=dhm.getFontMeasurements();}return _317;};var _319=null,_31a={};dhm.getTextBox=function(text,_31c,_31d){var m;if(!_319){m=_319=dojo.doc.createElement("div");m.style.position="absolute";m.style.left="-10000px";m.style.top="0";dojo.body().appendChild(m);}else{m=_319;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_31c){for(var i in _31c){if(i in _31a){continue;}m.style[i]=_31c[i];}}if(arguments.length>2&&_31d){m.className=_31d;}m.innerHTML=text;return dojo.marginBox(m);};var _320={w:16,h:16};dhm.getScrollbar=function(){return {w:_320.w,h:_320.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_321){var f=dhm._fontResizeNode=dojo.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";if(dojo.isIE){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");dojo.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};dojo.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(dojo.isIE&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});dojo.addOnLoad(function(){try{var n=dojo.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";dojo.body().appendChild(n);_320.w=n.offsetWidth-n.clientWidth;_320.h=n.offsetHeight-n.clientHeight;dojo.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in dojo.config&&!!dojo.config.fontSizeWatch){dhm.initOnFontResize();}});})();}if(!dojo._hasResource["dojox.grid.util"]){dojo._hasResource["dojox.grid.util"]=true;dojo.provide("dojox.grid.util");(function(){var dgu=dojox.grid.util;dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_32b,_32c){if(_32c>=0){var s=_32b.style;var v=_32c+"px";if(_32b&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_32f,_330,_331,_332){var evts=(_332?_332:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_330.connect(_32f,"on"+evts[i],_331);}},dgu.removeNode=function(_336){_336=dojo.byId(_336);_336&&_336.parentNode&&_336.parentNode.removeChild(_336);return _336;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_33b,_33c,_33d){if(_33b.length<=_33c){_33b[_33c]=_33d;}else{_33b.splice(_33c,0,_33d);}};dgu.arrayRemove=function(_33e,_33f){_33e.splice(_33f,1);};dgu.arraySwap=function(_340,inI,inJ){var _343=_340[inI];_340[inI]=_340[inJ];_340[inJ]=_343;};})();}if(!dojo._hasResource["dojox.grid._Scroller"]){dojo._hasResource["dojox.grid._Scroller"]=true;dojo.provide("dojox.grid._Scroller");(function(){var _344=function(_345){var i=0,n,p=_345.parentNode;while((n=p.childNodes[i++])){if(n==_345){return i-1;}}return -1;};var _349=function(_34a){if(!_34a){return;}var _34b=function(inW){return inW.domNode&&dojo.isDescendant(inW.domNode,_34a,true);};var ws=dijit.registry.filter(_34b);for(var i=0,w;(w=ws[i]);i++){w.destroy();}delete ws;};var _350=function(_351){var node=dojo.byId(_351);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _353=function(_354,_355){var _356=[];var i=0,n;while((n=_354.childNodes[i++])){if(_350(n)==_355){_356.push(n);}}return _356;};var _359=function(_35a){return _353(_35a,"div");};dojo.declare("dojox.grid._Scroller",null,{constructor:function(_35b){this.setContentNodes(_35b);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_35c,_35d,_35e){switch(arguments.length){case 3:this.rowsPerPage=_35e;case 2:this.keepRows=_35d;case 1:this.rowCount=_35c;}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=dojo.hitch(this,"onscroll");}},_getPageCount:function(_35f,_360){return _35f?(Math.ceil(_35f/_360)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_361){this.keepRows=_361;this.keepPages=!this.keepRows?this.keepRows:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_362){this.contentNodes=_362;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();},updateRowCount:function(_364){this.invalidateNodes();this.rowCount=_364;var _365=this.pageCount;if(_365===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_365){for(var i=_365-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_365){this.height+=this.defaultPageHeight*(this.pageCount-_365-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_367){return Boolean(this.getDefaultPageNode(_367));},measurePage:function(_368){var n=this.getDefaultPageNode(_368);return (n&&n.innerHTML)?n.offsetHeight:0;},positionPage:function(_36a,_36b){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_36a].style.top=_36b+"px";}},repositionPages:function(_36d){var _36e=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_36e[_36d];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_36d):0);for(var p=_36d+1;p<=last;p++){n=_36e[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_374){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_374]);}},preparePage:function(_376,_377){var p=(_377?this.popPage():null);for(var i=0;i<this.colCount;i++){var _37a=this.pageNodes[i];var _37b=(p===null?this.createPageNode():this.invalidatePageNode(p,_37a));_37b.pageIndex=_376;_37b.id=(this._pageIdPrefix||"")+"page-"+_376;_37a[_376]=_37b;}},renderPage:function(_37c){var _37d=[];for(var i=0;i<this.colCount;i++){_37d[i]=this.pageNodes[i][_37c];}for(var i=0,j=_37c*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_37d);}},removePage:function(_380){for(var i=0,j=_380*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_383){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_383,this.pageNodes[i]);if(n){dojo.destroy(n);}}},pacify:function(_386){},pacifying:false,pacifyTicks:200,setPacifying:function(_387){if(this.pacifying!=_387){this.pacifying=_387;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _388=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _388;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){dojox.grid.util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}this.needPage(this.page,this.pageTop);var _38a=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _38b=this.getPageHeight(this.page);this.averageRowHeight=(_38b>0&&_38a>0)?(_38b/_38a):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _38c=this.pageCount-1;var _38d=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_38c]=_38d;return _38d;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_38f){if(this.pageExists(_38f)){var oh=this.getPageHeight(_38f);var h=(this.measurePage(_38f))||(oh);this.pageHeights[_38f]=h;if((h)&&(oh!=h)){this.updateContentHeight(h-oh);this.repositionPages(_38f);}}},rowHeightChanged:function(_392){this.updatePageHeight(Math.floor(_392/this.rowsPerPage));},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");dojo.attr(p,"role","presentation");p.style.position="absolute";p.style[dojo._isBodyLtr()?"left":"right"]="0";return p;},getPageHeight:function(_394){var ph=this.pageHeights[_394];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_396){return this.stack.push(_396);},popPage:function(){return this.stack.shift();},findPage:function(_397){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_397){break;}}this.page=i;this.pageTop=h;},buildPage:function(_39b,_39c,_39d){this.preparePage(_39b,_39c);this.positionPage(_39b,_39d);this.installPage(_39b);this.renderPage(_39b);this.pushPage(_39b);},needPage:function(_39e,_39f){var h=this.getPageHeight(_39e),oh=h;if(!this.pageExists(_39e)){this.buildPage(_39e,this.keepPages&&(this.stack.length>=this.keepPages),_39f);h=this.measurePage(_39e)||h;this.pageHeights[_39e]=h;if(h&&(oh!=h)){this.updateContentHeight(h-oh);}}else{this.positionPage(_39e,_39f);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_3a2){this.grid.scrollTop=_3a2;if(this.colCount){this.startPacify();this.findPage(_3a2);var h=this.height;var b=this.getScrollBottom(_3a2);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_3a2);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_3a7){return (this.windowHeight>=0?_3a7+this.windowHeight:-1);},processNodeEvent:function(e,_3a9){var t=e.target;while(t&&(t!=_3a9)&&t.parentNode&&(t.parentNode.parentNode!=_3a9)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_3a9)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_344(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_3ad,_3ae){},removeRow:function(_3af){},getDefaultPageNode:function(_3b0){return this.getDefaultNodes()[_3b0];},positionPageNode:function(_3b1,_3b2){},getPageNodePosition:function(_3b3){return _3b3.offsetTop;},invalidatePageNode:function(_3b4,_3b5){var p=_3b5[_3b4];if(p){delete _3b5[_3b4];this.removePage(_3b4,p);_349(p);p.innerHTML="";}return p;},getPageRow:function(_3b7){return _3b7*this.rowsPerPage;},getLastPageRow:function(_3b8){return Math.min(this.rowCount,this.getPageRow(_3b8+1))-1;},getFirstVisibleRow:function(_3b9,_3ba,_3bb){if(!this.pageExists(_3b9)){return 0;}var row=this.getPageRow(_3b9);var _3bd=this.getDefaultNodes();var rows=_359(_3bd[_3b9]);for(var i=0,l=rows.length;i<l&&_3ba<_3bb;i++,row++){_3ba+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_3c1,_3c2,_3c3){if(!this.pageExists(_3c1)){return 0;}var _3c4=this.getDefaultNodes();var row=this.getLastPageRow(_3c1);var rows=_359(_3c4[_3c1]);for(var i=rows.length-1;i>=0&&_3c2>_3c3;i--,row--){_3c2-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_3c8){var _3c9=this.getDefaultNodes();var rows=_359(_3c9[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_3c8){this.offset=h-(t-_3c8);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_3cf){var _3d0=Math.floor(_3cf/this.rowsPerPage);var t=0;for(var i=0;i<_3d0;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.needPage(_3d0,this.pageTop);var _3d3=this.getDefaultNodes();var rows=_359(_3d3[_3d0]);var r=_3cf-this.rowsPerPage*_3d0;for(var i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});})();}if(!dojo._hasResource["dojox.grid.cells._base"]){dojo._hasResource["dojox.grid.cells._base"]=true;dojo.provide("dojox.grid.cells._base");(function(){var _3d7=function(_3d8){try{dojox.grid.util.fire(_3d8,"focus");dojox.grid.util.fire(_3d8,"select");}catch(e){}};var _3d9=function(){setTimeout(dojo.hitch.apply(dojo,arguments),0);};var dgc=dojox.grid.cells;dojo.declare("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,_valueProp:"value",_formatPending:false,constructor:function(_3db){this._props=_3db||{};dojo.mixin(this,_3db);},format:function(_3dc,_3dd){var f,i=this.grid.edit.info,d=this.get?this.get(_3dc,_3dd):(this.value||this.defaultValue);d=(d&&d.replace)?d.replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_3dc&&i.cell==this))){return this.formatEditing(d,_3dc);}else{var v=(d!=this.defaultValue&&(f=this.formatter))?f.call(this,d,_3dc):d;return (typeof v=="undefined"?this.defaultValue:v);}},formatEditing:function(_3e2,_3e3){},getNode:function(_3e4){return this.view.getCellNode(_3e4,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_3e5){return (this.getNode(_3e5)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&dojo.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_3e8,_3e9){this.grid.edit.applyCellEdit(_3e8,this,_3e9);},cancelEdit:function(_3ea){this.grid.doCancelEdit(_3ea);},_onEditBlur:function(_3eb){if(this.grid.edit.isEditCell(_3eb,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_3ec,_3ed){if(this.commitOnBlur){dojo.connect(_3ec,"onblur",function(e){setTimeout(dojo.hitch(this,"_onEditBlur",_3ed),250);});}},needFormatNode:function(_3ef,_3f0){this._formatPending=true;_3d9(this,"_formatNode",_3ef,_3f0);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_3f1,_3f2){if(this._formatPending){this._formatPending=false;dojo.setSelectable(this.grid.domNode,true);this.formatNode(this.getEditNode(_3f2),_3f1,_3f2);}},formatNode:function(_3f3,_3f4,_3f5){if(dojo.isIE){_3d9(this,"focus",_3f5,_3f3);}else{this.focus(_3f5,_3f3);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_3f8){return this.getEditNode(_3f8)[this._valueProp];},setValue:function(_3f9,_3fa){var n=this.getEditNode(_3f9);if(n){n[this._valueProp]=_3fa;}},focus:function(_3fc,_3fd){_3d7(_3fd||this.getEditNode(_3fc));},save:function(_3fe){this.value=this.value||this.getValue(_3fe);},restore:function(_3ff){this.setValue(_3ff,this.value);},_finish:function(_400){dojo.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_401){this.applyEdit(this.getValue(_401),_401);this._finish(_401);},cancel:function(_402){this.cancelEdit(_402);this._finish(_402);}});dgc._Base.markupFactory=function(node,_404){var d=dojo;var _406=d.trim(d.attr(node,"formatter")||"");if(_406){_404.formatter=dojo.getObject(_406);}var get=d.trim(d.attr(node,"get")||"");if(get){_404.get=dojo.getObject(get);}var _408=function(attr){var _40a=d.trim(d.attr(node,attr)||"");return _40a?!(_40a.toLowerCase()=="false"):undefined;};_404.sortDesc=_408("sortDesc");_404.editable=_408("editable");_404.alwaysEditing=_408("alwaysEditing");_404.noresize=_408("noresize");var _40b=d.trim(d.attr(node,"loadingText")||d.attr(node,"defaultValue")||"");if(_40b){_404.defaultValue=_40b;}var _40c=function(attr){return d.trim(d.attr(node,attr)||"")||undefined;};_404.styles=_40c("styles");_404.headerStyles=_40c("headerStyles");_404.cellStyles=_40c("cellStyles");_404.classes=_40c("classes");_404.headerClasses=_40c("headerClasses");_404.cellClasses=_40c("cellClasses");};dojo.declare("dojox.grid.cells.Cell",dgc._Base,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_40e,_40f){this.needFormatNode(_40e,_40f);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_40e+"\">";},formatNode:function(_410,_411,_412){this.inherited(arguments);this.registerOnBlur(_410,_412);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){dojo.stopEvent(e);}}},_finish:function(_415){this.inherited(arguments);var n=this.getEditNode(_415);try{dojox.grid.util.fire(n,"blur");}catch(e){}}});dgc.Cell.markupFactory=function(node,_418){dgc._Base.markupFactory(node,_418);var d=dojo;var _41a=d.trim(d.attr(node,"keyFilter")||"");if(_41a){_418.keyFilter=new RegExp(_41a);}};dojo.declare("dojox.grid.cells.RowIndex",dgc.Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_41b){return _41b+1;}});dgc.RowIndex.markupFactory=function(node,_41d){dgc.Cell.markupFactory(node,_41d);};dojo.declare("dojox.grid.cells.Select",dgc.Cell,{options:null,values:null,returnIndex:-1,constructor:function(_41e){this.values=this.values||this.options;},formatEditing:function(_41f,_420){this.needFormatNode(_41f,_420);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){h.push("<option",(_41f==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},getValue:function(_425){var n=this.getEditNode(_425);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});dgc.Select.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);var d=dojo;var _42c=d.trim(d.attr(node,"options")||"");if(_42c){var o=_42c.split(",");if(o[0]!=_42c){cell.options=o;}}var _42e=d.trim(d.attr(node,"values")||"");if(_42e){var v=_42e.split(",");if(v[0]!=_42e){cell.values=v;}}};dojo.declare("dojox.grid.cells.AlwaysEdit",dgc.Cell,{alwaysEditing:true,_formatNode:function(_430,_431){this.formatNode(this.getEditNode(_431),_430,_431);},applyStaticValue:function(_432){var e=this.grid.edit;e.applyCellEdit(this.getValue(_432),this,_432);e.start(this,_432,true);}});dgc.AlwaysEdit.markupFactory=function(node,cell){dgc.Cell.markupFactory(node,cell);};dojo.declare("dojox.grid.cells.Bool",dgc.AlwaysEdit,{_valueProp:"checked",formatEditing:function(_436,_437){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_436?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});dgc.Bool.markupFactory=function(node,cell){dgc.AlwaysEdit.markupFactory(node,cell);};})();}if(!dojo._hasResource["dojox.grid.cells"]){dojo._hasResource["dojox.grid.cells"]=true;dojo.provide("dojox.grid.cells");}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};dojo.dnd._lmb=dojo.isIE?1:0;dojo.dnd._isLmbPressed=dojo.isIE?function(e){return e.button&1;}:function(e){return e.button===0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _454=n.scrollLeft,_455=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_454!=n.scrollLeft||_455!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_45b=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_45b];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isWebKit&&dojo.dnd._isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_46a){this.node=dojo.byId(node);if(!_46a){_46a={};}this.handle=_46a.handle?dojo.byId(_46a.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_46a.delay>0?_46a.delay:0;this.skip=_46a.skip;this.mover=_46a.mover?_46a.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_46b,node){return new dojo.dnd.Moveable(node,_46b);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_473){dojo.publish("/dnd/move/start",[_473]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_474){dojo.publish("/dnd/move/stop",[_474]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_475){},onMove:function(_476,_477){this.onMoving(_476,_477);var s=_476.node.style;s.left=_477.l+"px";s.top=_477.t+"px";this.onMoved(_476,_477);},onMoving:function(_479,_47a){},onMoved:function(_47b,_47c){}});}if(!dojo._hasResource["dojox.grid._Builder"]){dojo._hasResource["dojox.grid._Builder"]=true;dojo.provide("dojox.grid._Builder");(function(){var dg=dojox.grid;var _47e=function(td){return td.cellIndex>=0?td.cellIndex:dojo.indexOf(td.parentNode.cells,td);};var _480=function(tr){return tr.rowIndex>=0?tr.rowIndex:dojo.indexOf(tr.parentNode.childNodes,tr);};var _482=function(_483,_484){return _483&&((_483.rows||0)[_484]||_483.childNodes[_484]);};var _485=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _488=function(_489,_48a){for(var n=_489;n&&_48a(n);n=n.parentNode){}return n;};var _48c=function(_48d){var name=_48d.toUpperCase();return function(node){return node.tagName!=name;};};var _490=dojox.grid.util.rowIndexTag;var _491=dojox.grid.util.gridViewTag;dg._Builder=dojo.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\""+(dojo.isFF<3?"wairole:":"")+"presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_494,_495,_496,_497){var _498=[],html;var _49a=dojo.isFF<3?"wairole:":"";if(_497){var _49b=_494.index!=_494.grid.getSortIndex()?"":_494.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";html=["<th tabIndex=\"-1\" role=\"",_49a,"columnheader\"",_49b];}else{html=["<td tabIndex=\"-1\" role=\"",_49a,"gridcell\""];}_494.colSpan&&html.push(" colspan=\"",_494.colSpan,"\"");_494.rowSpan&&html.push(" rowspan=\"",_494.rowSpan,"\"");html.push(" class=\"dojoxGridCell ");_494.classes&&html.push(_494.classes," ");_496&&html.push(_496," ");_498.push(html.join(""));_498.push("");html=["\" idx=\"",_494.index,"\" style=\""];if(_495&&_495[_495.length-1]!=";"){_495+=";";}html.push(_494.styles,_495||"",_494.hidden?"display:none;":"");_494.unitWidth&&html.push("width:",_494.unitWidth,";");_498.push(html.join(""));_498.push("");html=["\""];_494.attrs&&html.push(" ",_494.attrs);html.push(">");_498.push(html.join(""));_498.push("");_498.push(_497?"</th>":"</td>");return _498;},isCellNode:function(_49c){return Boolean(_49c&&_49c!=dojo.doc&&dojo.attr(_49c,"idx"));},getCellNodeIndex:function(_49d){return _49d?Number(dojo.attr(_49d,"idx")):-1;},getCellNode:function(_49e,_49f){for(var i=0,row;row=_482(_49e.firstChild,i);i++){for(var j=0,cell;cell=row.cells[j];j++){if(this.getCellNodeIndex(cell)==_49f){return cell;}}}},findCellTarget:function(_4a4,_4a5){var n=_4a4;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_491 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_491]!=this.view.id))&&(n!=_4a5)){n=n.parentNode;}return n!=_4a5?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_4a8,_4a9){var n=_4a8;while(n&&(n!=this.domNode)&&(!(_4a9 in n)||(_491 in n&&n[_491]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_4ab){return this.findTarget(_4ab,_490);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&dojo.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);}});dg._ContentBuilder=dojo.extend(function(view){dg._Builder.call(this,view);},dg._Builder.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _4b4=this.grid.get,_4b5=this.view.structure.cells;for(var j=0,row;(row=_4b5[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_4b4;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);}}},generateHtml:function(_4ba,_4bb){var html=this.getTableArray(),v=this.view,_4be=v.structure.cells,item=this.grid.getItem(_4bb);dojox.grid.util.fire(this.view,"onBeforeRow",[_4bb,_4be]);for(var j=0,row;(row=_4be[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup,cc=cell.customClasses=[],cs=cell.customStyles=[];m[5]=cell.format(_4bb,item);m[1]=cc.join(" ");m[3]=cs.join(";");html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_490];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});dg._HeaderBuilder=dojo.extend(function(view){this.moveable=null;dg._Builder.call(this,view);},dg._Builder.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_4c9,_4ca){var html=this.getTableArray(),_4cc=this.view.structure.cells;dojox.grid.util.fire(this.view,"onBeforeRow",[-1,_4cc]);for(var j=0,row;(row=_4cc[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_4d1;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_4d1=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_4d1[5]=(_4ca!=undefined?_4ca:_4c9(cell));_4d1[3]=cell.customStyles.join(";");_4d1[1]=cell.customClasses.join(" ");html.push(_4d1.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var x=e.layerX;if(dojo.isMoz){var n=_488(e.target,_48c("th"));x-=(n&&n.offsetLeft)||0;var t=e.sourceView.getScrollbarWidth();if(!dojo._isBodyLtr()&&e.sourceView.headerNode.scrollLeft<t){x-=t;}}var n=_488(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=_47e(e.cellNode);e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(dojo.isIE){var tN=e.target;if(dojo.hasClass(tN,"dojoxGridArrowButtonNode")||dojo.hasClass(tN,"dojoxGridArrowButtonChar")){return false;}}if(dojo._isBodyLtr()){return (e.cellIndex>0)&&(e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(dojo.isIE){var tN=e.target;if(dojo.hasClass(tN,"dojoxGridArrowButtonNode")||dojo.hasClass(tN,"dojoxGridArrowButtonChar")){return false;}}if(dojo._isBodyLtr()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"e-resize":(this.overLeftResizeArea(e)?"w-resize":""));if(c&&!this.canResize(e)){c="not-allowed";}if(dojo.isIE){var t=e.sourceView.headerNode.scrollLeft;e.sourceView.headerNode.style.cursor=c||"";e.sourceView.headerNode.scrollLeft=t;}else{e.sourceView.headerNode.style.cursor=c||"";}if(c){dojo.stopEvent(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){dojo.stopEvent(e);return true;}},beginColumnResize:function(e){this.moverDiv=document.createElement("div");dojo.style(this.moverDiv,{position:"absolute",left:0});dojo.body().appendChild(this.moverDiv);var m=this.moveable=new dojo.dnd.Moveable(this.moverDiv);var _4e8=[],_4e9=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_4e9[i]);i++){_4e8.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=dojo._isBodyLtr()?1:-1;var _4ee=e.grid.views.views;var _4ef=[];for(var i=view.idx+adj,_4f0;(_4f0=_4ee[i]);i=i+adj){_4ef.push({node:_4f0.headerNode,left:window.parseInt(_4f0.headerNode.style.left)});}var _4f1=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:dojo.contentBox(e.cellNode).w,vw:dojo.contentBox(view.headerNode).w,table:_4f1,tw:dojo.contentBox(_4f1).w,spanners:_4e8,followers:_4ef};m.onMove=dojo.hitch(this,"doResizeColumn",drag);dojo.connect(m,"onMoveStop",dojo.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;}));view.convertColPctToFixed();if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_4f3,_4f4,_4f5){var _4f6=dojo._isBodyLtr();var _4f7=_4f6?_4f5.l:-_4f5.l;var w=_4f3.w+_4f7;var vw=_4f3.vw+_4f7;var tw=_4f3.tw+_4f7;if(w>=this.minColWidth){for(var i=0,s,sw;(s=_4f3.spanners[i]);i++){sw=s.width+_4f7;s.node.style.width=sw+"px";_4f3.view.setColWidth(s.index,sw);}for(var i=0,f,fl;(f=_4f3.followers[i]);i++){fl=f.left+_4f7;f.node.style.left=fl+"px";}_4f3.node.style.width=w+"px";_4f3.view.setColWidth(_4f3.index,w);_4f3.view.headerNode.style.width=vw+"px";_4f3.view.setColumnsWidth(tw);if(!_4f6){_4f3.view.headerNode.scrollLeft=_4f3.scrollLeft+_4f7;}}if(_4f3.view.flexCells&&!_4f3.view.testFlexCells()){var t=_485(_4f3.node);t&&(t.style.width="");}},endResizeColumn:function(_501){dojo.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;var conn=dojo.connect(_501.view,"update",this,function(){dojo.disconnect(conn);this._skipBogusClicks=false;});setTimeout(dojo.hitch(_501.view,"update"),50);}});dg._TableMap=dojo.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_504){var _505=_504.length;if(!_505){return;}this.map=[];for(var j=0,row;(row=_504[j]);j++){this.map[j]=[];}for(var j=0,row;(row=_504[j]);j++){for(var i=0,x=0,cell,_50b,_50c;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_50c=cell.rowSpan||1;_50b=cell.colSpan||1;for(var y=0;y<_50c;y++){for(var s=0;s<_50b;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_50b;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_514,_515){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_515&&cell.r==_514){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_51a,_51b,_51c){var row=_51a&&_51a.rows[_51b];return row&&row.cells[_51c];},_findOverlappingNodes:function(_51e,_51f,_520){var _521=[];var m=this.getMapCoords(_51f,_520);var row=this.map[m.j];for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_51e,rw.r,rw.c):null);if(n){_521.push(n);}}return _521;},findOverlappingNodes:function(_527){return this._findOverlappingNodes(_485(_527),_480(_527.parentNode),_47e(_527));}});})();}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_529){this.node=dojo.byId(node);if(!_529){_529={};}this.creator=_529.creator||null;this.skipForm=_529.skipForm;this.parent=_529.dropParent&&dojo.byId(_529.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_529&&_529._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_539,_53a){if(!this.parent.firstChild){_53a=null;}else{if(_539){if(!_53a){_53a=this.parent.firstChild;}}else{if(_53a){_53a=_53a.nextSibling;}}}if(_53a){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_53a);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_53d,node){_53d._skipStartup=true;return new dojo.dnd.Container(node,_53d);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_546){var _547="dojoDnd"+type;var _548=type.toLowerCase()+"State";dojo.removeClass(this.node,_547+this[_548]);dojo.addClass(this.node,_547+_546);this[_548]=_546;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _54f=node.parentNode;_54f;node=_54f,_54f=node.parentNode){if(_54f==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){return dojo.create(tag,{innerHTML:text});};};dojo.dnd._createTrTd=function(text){var tr=dojo.create("tr");dojo.create("td",{innerHTML:text},tr);return tr;};dojo.dnd._createSpan=function(text){return dojo.create("span",{innerHTML:text});};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _55d=item&&dojo.isObject(item),data,type,n;if(_55d&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_55d&&item.data)?item.data:item;type=(_55d&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}n.id=dojo.dnd.getUniqueId();return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(node,_562){if(!_562){_562={};}this.singular=_562.singular;this.autoSync=_562.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_574,data,_576,_577){var _578=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_578.call(this,item,hint);if(_574){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,data,_576,_577);this._normalizedCreator=_578;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_57c,node){_57c._skipStartup=true;return new dojo.dnd.Selector(node,_57c);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(e.button===dojo.dnd._lmb){dojo.stopEvent(e);}return;}if(!this.singular&&e.shiftKey){if(!dojo.dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_587){this.manager=_587;this.construct();},construct:function(){var a=dojo.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),b=dojo.create("tbody",null,a),tr=dojo.create("tr",null,b),td=dojo.create("td",{innerHTML:this._generateText()},tr),k=Math.min(5,this.manager.nodes.length),i=0,_58e=this.manager.source,node;dojo.attr(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_58e.creator){node=_58e._normalizedCreator(_58e.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _590=dojo.create("table"),_591=dojo.create("tbody",null,_590);_591.appendChild(node);node=_590;}}node.id="";tr=dojo.create("tr",null,b);td=dojo.create("td",null,tr);td.appendChild(node);dojo.attr(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){dojo.destroy(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");dojo.query("tr.dojoDndAvatarHeader td",this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_593){if(this.avatar){this.target=(_593&&_593.targetState!="Disabled")?_593:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_593]);},outSource:function(_594){if(this.avatar){if(this.target==_594){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_595,_596,copy){this.source=_595;this.nodes=_596;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_595,_596,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _59a=Boolean(this.target&&flag);if(this.canDropFlag!=_59a){this.canDropFlag=_59a;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),"dojoDndCopy");dojo.removeClass(dojo.body(),"dojoDndMove");dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e))),_5a1=[this.source,this.nodes,copy,this.target];dojo.publish("/dnd/drop/before",_5a1);dojo.publish("/dnd/drop",_5a1);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.removeClass(dojo.body(),"dojoDnd"+(this.copy?"Move":"Copy"));dojo.addClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],constructor:function(node,_5a8){dojo.mixin(this,dojo.mixin({},_5a8));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_5ab,_5ac){if(this==_5ab){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_5ac.length;++i){var type=_5ab.getItem(_5ac[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_5b1,self){if(_5b1){return true;}if(arguments.length<2){self=this==dojo.dnd.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_5b3,node){_5b3._skipStartup=true;return new dojo.dnd.Source(node,_5b3);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(this.isDragging){var _5b7=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox={xy:dojo.coords(this.current,true),w:this.current.offsetWidth,h:this.current.offsetHeight};}if(this.horizontal){_5b7=(e.pageX-this.targetBox.xy.x)<(this.targetBox.w/2);}else{_5b7=(e.pageY-this.targetBox.xy.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_5b7!=this.before){this._markTargetAnchor(_5b7);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _5b8=this.getSelectedNodes();if(_5b8.length){m.startDrag(this,_5b8,this.copyState(dojo.dnd.getCopyKeyState(e),true));}}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_5bb){if(this!=_5bb){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_5bd,_5be,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_5bd?(copy?"Copied":"Moved"):"");}var _5c0=this.accept&&this.checkAcceptance(_5bd,_5be);this._changeState("Target",_5c0?"":"Disabled");if(this==_5bd){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_5c1,_5c2,copy,_5c4){if(this==_5c4){this.onDrop(_5c1,_5c2,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_5c5,_5c6,copy){if(this!=_5c5){this.onDropExternal(_5c5,_5c6,copy);}else{this.onDropInternal(_5c6,copy);}},onDropExternal:function(_5c8,_5c9,copy){var _5cb=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _5cb.call(this,_5c8.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_5c8.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_5c8.getItem(node.id);_5c8.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_5c8.selectNone();}this.insertNodes(true,_5c9,this.before,this.current);if(!copy&&this.creator){_5c8.deleteSelectedNodes();}this._normalizedCreator=_5cb;},onDropInternal:function(_5d5,copy){var _5d7=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _5d7.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_5d5,this.before,this.current);this._normalizedCreator=_5d7;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_5e1){if(this.current==this.targetAnchor&&this.before==_5e1){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_5e1;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!dojo.dnd._isLmbPressed(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}if(dojo.hasClass(node,"dojoDndItem")){break;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_5e6){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_5e7,node){_5e7._skipStartup=true;return new dojo.dnd.Target(node,_5e7);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_5ea){this.autoSync=true;},markupFactory:function(_5eb,node){_5eb._skipStartup=true;return new dojo.dnd.AutoSource(node,_5eb);}});}if(!dojo._hasResource["dojox.grid._View"]){dojo._hasResource["dojox.grid._View"]=true;dojo.provide("dojox.grid._View");(function(){var _5ed=function(_5ee,_5ef){return _5ee.style.cssText==undefined?_5ee.getAttribute("style"):_5ee.style.cssText;};dojo.declare("dojox.grid._View",[dijit._Widget,dijit._Templated],{defaultWidth:"18em",viewWidth:"",templateString:"<div class=\"dojoxGridView\" wairole=\"presentation\">\r\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" wairole=\"presentation\">\r\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" wairole=\"presentation\">\r\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" wairole=\"row\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" wairole=\"presentation\" />\r\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" wairole=\"presentation\" />\r\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" wairole=\"presentation\">\r\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" wairole=\"presentation\"></div>\r\n\t</div>\r\n</div>\r\n",themeable:false,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,postMixInProperties:function(){this.rowNodes=[];},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");dojox.grid.util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);dojox.grid.util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new dojox.grid._ContentBuilder(this);this.header=new dojox.grid._HeaderBuilder(this);if(!dojo._isBodyLtr()){this.headerNodeContainer.style.width="";}},destroy:function(){dojo.destroy(this.headerNode);delete this.headerNode;dojo.forEach(this.rowNodes,dojo.destroy);this.rowNodes=[];if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(dojo.isWebKit||dojo.isOpera){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_5f0){var vs=(this.structure=_5f0);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this.onBeforeRow=vs.onBeforeRow;this.onAfterRow=vs.onAfterRow;this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _5f6=this.hasVScrollbar();var _5f7=dojo.style(this.scrollboxNode,"overflow");if(this.noscroll||!_5f7||_5f7=="hidden"){_5f6=false;}else{if(_5f7=="scroll"){_5f6=true;}}return (_5f6?dojox.html.metrics.getScrollbar().w:0);},getColumnsWidth:function(){return this.headerContentNode.firstChild.offsetWidth;},setColumnsWidth:function(_5f8){this.headerContentNode.firstChild.style.width=_5f8+"px";if(this.viewWidth){this.viewWidth=_5f8+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,dojo._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _5f9=this.grid.layout.cells;var _5fa=dojo.hitch(this,function(node,_5fc){var inc=_5fc?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_5f9[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_5f9[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}this.source=new dojo.dnd.Source(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,onMouseDown:dojo.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(dojo.isIE?1:0)){dojo.dnd.Source.prototype.onMouseDown.call(this.source,e);}}}),_markTargetAnchor:dojo.hitch(this,function(_601){var src=this.source;if(src.current==src.targetAnchor&&src.before==_601){return;}if(src.targetAnchor&&_5fa(src.targetAnchor,src.before)){src._removeItemClass(_5fa(src.targetAnchor,src.before),src.before?"After":"Before");}dojo.dnd.Source.prototype._markTargetAnchor.call(src,_601);if(src.targetAnchor&&_5fa(src.targetAnchor,src.before)){src._addItemClass(_5fa(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:dojo.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_5fa(src.targetAnchor,src.before)){src._removeItemClass(_5fa(src.targetAnchor,src.before),src.before?"After":"Before");}dojo.dnd.Source.prototype._unmarkTargetAnchor.call(src);}),destroy:dojo.hitch(this,function(){dojo.disconnect(this._source_conn);dojo.unsubscribe(this._source_sub);dojo.dnd.Source.prototype.destroy.call(this.source);})});this._source_conn=dojo.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=dojo.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_onDndDropBefore:function(_604,_605,copy){if(dojo.dnd.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _607=this.grid.views.views;var _608=_607[_604.viewIndex];var _609=_607[this.index];if(_609!=_608){var s=_608.convertColPctToFixed();var t=_609.convertColPctToFixed();if(s||t){setTimeout(function(){_608.update();_609.update();},50);}}},_onDndDrop:function(_60c,_60d,copy){if(dojo.dnd.manager().target!==this.source){if(dojo.dnd.manager().source===this.source){this._removingColumn=true;}return;}var _60f=function(n){return n?dojo.attr(n,"idx"):null;};var w=dojo.marginBox(_60d[0]).w;if(_60c.viewIndex!==this.index){var _612=this.grid.views.views;var _613=_612[_60c.viewIndex];var _614=_612[this.index];if(_613.viewWidth&&_613.viewWidth!="auto"){_613.setColumnsWidth(_613.getColumnsWidth()-w);}if(_614.viewWidth&&_614.viewWidth!="auto"){_614.setColumnsWidth(_614.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;var _617=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;window.setTimeout(function(){_617.moveColumn(_60c.viewIndex,idx,_60f(_60d[0]),_60f(stn),stb);},1);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}dojox.grid.util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_619){var n=_619.name||_619.grid.getCellName(_619);var ret=["<div class=\"dojoxGridSortNode"];if(_619.index!=_619.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_619.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_619.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\""+(dojo.isFF<3?"wairole:":"")+"presentation\"></div>"]);}ret=ret.concat([n,"</div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_61c){if(this._hasHScroll==undefined||_61c){if(this.noscroll){this._hasHScroll=false;}else{var _61d=dojo.style(this.scrollboxNode,"overflow");if(_61d=="hidden"){this._hasHScroll=false;}else{if(_61d=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth<this.contentNode.offsetWidth);}}}}return this._hasHScroll;},hasVScrollbar:function(_61e){if(this._hasVScroll==undefined||_61e){if(this.noscroll){this._hasVScroll=false;}else{var _61f=dojo.style(this.scrollboxNode,"overflow");if(_61f=="hidden"){this._hasVScroll=false;}else{if(_61f=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.offsetHeight<this.contentNode.offsetHeight);}}}}return this._hasVScroll;},convertColPctToFixed:function(){var _620=false;var _621=dojo.query("th",this.headerContentNode);var _622=dojo.map(_621,function(c,vIdx){var w=c.style.width;dojo.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_620=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return dojo.contentBox(c).w;});if(_620){dojo.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _628=cell.view.getHeaderCellNode(cell.index);if(_628&&dojo.hasAttr(_628,"vIdx")){var vIdx=window.parseInt(dojo.attr(_628,"vIdx"));this.setColWidth(idx,_622[vIdx]);_621[vIdx].style.width=cell.unitWidth;dojo.removeAttr(_628,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_62a){if(!this.grid._autoHeight){var h=this.domNode.clientHeight;if(_62a){h-=dojox.html.metrics.getScrollbar().h;}dojox.grid.util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_632){var _633=this.createRowNode(_632);this.buildRow(_632,_633);this.grid.edit.restore(this,_632);if(this._pendingUpdate){window.clearTimeout(this._pendingUpdate);}this._pendingUpdate=window.setTimeout(dojo.hitch(this,function(){window.clearTimeout(this._pendingUpdate);delete this._pendingUpdate;this.grid._resize();}),50);return _633;},createRowNode:function(_634){var node=document.createElement("div");node.className=this.classTag+"Row";dojo.attr(node,"role","row");node[dojox.grid.util.gridViewTag]=this.id;node[dojox.grid.util.rowIndexTag]=_634;this.rowNodes[_634]=node;return node;},buildRow:function(_636,_637){this.buildRowContent(_636,_637);this.styleRow(_636,_637);},buildRowContent:function(_638,_639){_639.innerHTML=this.content.generateHtml(_638,_638);if(this.flexCells&&this.contentWidth){_639.firstChild.style.width=this.contentWidth;}dojox.grid.util.fire(this,"onAfterRow",[_638,this.structure.cells,_639]);},rowRemoved:function(_63a){this.grid.edit.save(this,_63a);delete this.rowNodes[_63a];},getRowNode:function(_63b){return this.rowNodes[_63b];},getCellNode:function(_63c,_63d){var row=this.getRowNode(_63c);if(row){return this.content.getCellNode(row,_63d);}},getHeaderCellNode:function(_63f){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_63f);}},styleRow:function(_640,_641){_641._style=_5ed(_641);this.styleRowNode(_640,_641);},styleRowNode:function(_642,_643){if(_643){this.doStyleRowNode(_642,_643);}},doStyleRowNode:function(_644,_645){this.grid.styleRowNode(_644,_645);},updateRow:function(_646){var _647=this.getRowNode(_646);if(_647){_647.style.height="";this.buildRow(_646,_647);}return _647;},updateRowStyles:function(_648){this.styleRowNode(_648,this.getRowNode(_648));},lastTop:0,firstScroll:0,doscroll:function(_649){var _64a=dojo._isBodyLtr();if(this.firstScroll<2){if((!_64a&&this.firstScroll==1)||(_64a&&this.firstScroll==0)){var s=dojo.marginBox(this.headerNodeContainer);if(dojo.isIE){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(dojo.isMoz){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_64a?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!=this.lastTop){this.grid.scrollTo(top);}},setScrollTop:function(_64d){this.lastTop=_64d;this.scrollboxNode.scrollTop=_64d;return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_652,_653){this.grid.setCellWidth(_652,_653+"px");},update:function(){this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});dojo.declare("dojox.grid._GridAvatar",dojo.dnd.Avatar,{construct:function(){var dd=dojo.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _65b=this.manager.source,node;if(_65b.creator){node=_65b._normailzedCreator(_65b.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _65d=dd.createElement("table"),_65e=dd.createElement("tbody");_65e.appendChild(node);_65d.appendChild(_65e);node=_65d;}else{if(node.tagName.toLowerCase()=="th"){var _65d=dd.createElement("table"),_65e=dd.createElement("tbody"),r=dd.createElement("tr");_65d.cellPadding=_65d.cellSpacing="0";r.appendChild(node);_65e.appendChild(r);_65d.appendChild(_65e);node=_65d;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);dojo.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=dojo.dnd.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){dojo.dnd.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _661=dojo.dnd.manager().makeAvatar;dojo.dnd.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined){return new dojox.grid._GridAvatar(this);}return _661.call(dojo.dnd.manager());};})();}if(!dojo._hasResource["dojox.grid._RowSelector"]){dojo._hasResource["dojox.grid._RowSelector"]=true;dojo.provide("dojox.grid._RowSelector");dojo.declare("dojox.grid._RowSelector",dojox.grid._View,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_663,_664){var w=this.contentNode.offsetWidth-this.padBorderWidth;_664.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\""+(dojo.isFF<3?"wairole:":"")+"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){},doStyleRowNode:function(_666,_667){var n=["dojoxGridRowbar"];if(this.grid.rows.isOver(_666)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_666)){n.push("dojoxGridRowbarSelected");}_667.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});}if(!dojo._hasResource["dojox.grid._Layout"]){dojo._hasResource["dojox.grid._Layout"]=true;dojo.provide("dojox.grid._Layout");dojo.declare("dojox.grid._Layout",null,{constructor:function(_66b){this.grid=_66b;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_66c,_66d,_66e,_66f,_670){var _671=this.structure[_66c].cells[0];var _672=this.structure[_66d].cells[0];var cell=null;var _674=0;var _675=0;for(var i=0,c;c=_671[i];i++){if(c.index==_66e){_674=i;break;}}cell=_671.splice(_674,1)[0];cell.view=this.grid.views.views[_66d];for(i=0,c=null;c=_672[i];i++){if(c.index==_66f){_675=i;break;}}if(!_670){_675+=1;}_672.splice(_675,0,cell);var _678=this.grid.getCell(this.grid.getSortIndex());if(_678){_678._currentlySorted=this.grid.getSortAsc();}this.cells=[];var _66e=0;for(var i=0,v;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0,c;c=cs[k];k++){c.index=_66e;this.cells.push(c);if("_currentlySorted" in c){var si=_66e+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_66e++;}}}this.grid.setupHeaderMenu();},setColumnVisibility:function(_67e,_67f){var cell=this.cells[_67e];if(cell.hidden==_67f){cell.hidden=!_67f;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=dojo.marginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_683,_684,_685){var self=this;var _687=function(_688){var w=0;if(_688.colSpan>1){w=0;}else{w=_688.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _68a={grid:this.grid,subrow:_683,layoutIndex:_684,index:this.cells.length};if(_685&&_685 instanceof dojox.grid.cells._Base){var _68b=dojo.clone(_685);_68a.unitWidth=_687(_68b._props);_68b=dojo.mixin(_68b,this._defaultCellProps,_685._props,_68a);return _68b;}var _68c=_685.type||this._defaultCellProps.type||dojox.grid.cells.Cell;_68a.unitWidth=_687(_685);return new _68c(dojo.mixin({},this._defaultCellProps,_685,_68a));},addRowDef:function(_68d,_68e){var _68f=[];var _690=0,_691=0,_692=true;for(var i=0,def,cell;(def=_68e[i]);i++){cell=this.addCellDef(_68d,i,def);_68f.push(cell);this.cells.push(cell);if(_692&&cell.relWidth){_690+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_691+=window.parseInt(w,10);}else{if(w=="auto"){_692=false;}}}}}if(_690&&_692){dojo.forEach(_68f,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_690)*(100-_691))+"%";}});}return _68f;},addRowsDef:function(_698){var _699=[];if(dojo.isArray(_698)){if(dojo.isArray(_698[0])){for(var i=0,row;_698&&(row=_698[i]);i++){_699.push(this.addRowDef(i,row));}}else{_699.push(this.addRowDef(0,_698));}}return _699;},addViewDef:function(_69c){this._defaultCellProps=_69c.defaultCell||{};if(_69c.width&&_69c.width=="auto"){delete _69c.width;}return dojo.mixin({},_69c,{cells:this.addRowsDef(_69c.rows||_69c.cells)});},setStructure:function(_69d){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:dojox._scopeName+".grid._RowSelector"};if(dojo.isString(this.grid.rowSelector)){var _6a0=this.grid.rowSelector;if(_6a0=="false"){sel=null;}else{if(_6a0!="true"){sel["width"]=_6a0;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _6a1=function(def){return ("name" in def||"field" in def||"get" in def);};var _6a3=function(def){if(dojo.isArray(def)){if(dojo.isArray(def[0])||_6a1(def[0])){return true;}}return false;};var _6a5=function(def){return (def!=null&&dojo.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_6a1(def))));};if(dojo.isArray(_69d)){var _6a7=false;for(var i=0,st;(st=_69d[i]);i++){if(_6a5(st)){_6a7=true;break;}}if(!_6a7){s.push(this.addViewDef({cells:_69d}));}else{for(var i=0,st;(st=_69d[i]);i++){if(_6a3(st)){s.push(this.addViewDef({cells:st}));}else{if(_6a5(st)){s.push(this.addViewDef(st));}}}}}else{if(_6a5(_69d)){s.push(this.addViewDef(_69d));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});}if(!dojo._hasResource["dojox.grid._ViewManager"]){dojo._hasResource["dojox.grid._ViewManager"]=true;dojo.provide("dojox.grid._ViewManager");dojo.declare("dojox.grid._ViewManager",null,{constructor:function(_6aa){this.grid=_6aa;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_6ab){_6ab.idx=this.views.length;this.views.push(_6ab);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _6ae=[];for(var i=0,v;v=this.views[i];i++){_6ae.push(v.contentNode);}return _6ae;},forEach:function(_6b1){for(var i=0,v;v=this.views[i];i++){_6b1(v,i);}},onEach:function(_6b4,_6b5){_6b5=_6b5||[];for(var i=0,v;v=this.views[i];i++){if(_6b4 in v){v[_6b4].apply(v,_6b5);}}},normalizeHeaderNodeHeight:function(){var _6b8=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_6b8.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_6b8);},normalizeRowNodeHeights:function(_6bb){var h=0;for(var i=0,n,o;(n=_6bb[i]);i++){h=Math.max(h,dojo.marginBox(n.firstChild).h);}h=(h>=0?h:0);for(var i=0,n;(n=_6bb[i]);i++){dojo.marginBox(n.firstChild,{h:h});}if(_6bb&&_6bb[0]&&_6bb[0].parentNode){_6bb[0].parentNode.offsetHeight;}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_6c3){var _6c4=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_6c3));i++){n.firstChild.style.height="";_6c4.push(n);}this.normalizeRowNodeHeights(_6c4);},getViewWidth:function(_6c8){return this.views[_6c8].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_6c9){_6c9.headerContentNode.style.height="";});var h=0;this.forEach(function(_6cb){h=Math.max(_6cb.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_6cd){h=Math.max(_6cd.domNode.offsetHeight,h);});return h;},findClient:function(_6ce){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length;var c=(w<=0?len:this.findClient());var _6d9=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!dojo._isBodyLtr()){ds.right=l+"px";hs.right=l+"px";}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_6d9(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_6d9(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_6d9(v,l);}return l;},renderRow:function(_6e0,_6e1){var _6e2=[];for(var i=0,v,n,_6e6;(v=this.views[i])&&(n=_6e1[i]);i++){_6e6=v.renderRow(_6e0);n.appendChild(_6e6);_6e2.push(_6e6);}this.normalizeRowNodeHeights(_6e2);},rowRemoved:function(_6e7){this.onEach("rowRemoved",[_6e7]);},updateRow:function(_6e8){for(var i=0,v;v=this.views[i];i++){v.updateRow(_6e8);}this.renormalizeRow(_6e8);},updateRowStyles:function(_6eb){this.onEach("updateRowStyles",[_6eb]);},setScrollTop:function(_6ec){var top=_6ec;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_6ec);if(dojo.isIE&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}}});}if(!dojo._hasResource["dojox.grid._RowManager"]){dojo._hasResource["dojox.grid._RowManager"]=true;dojo.provide("dojox.grid._RowManager");(function(){var _6f2=function(_6f3,_6f4){if(_6f3.style.cssText==undefined){_6f3.setAttribute("style",_6f4);}else{_6f3.style.cssText=_6f4;}};dojo.declare("dojox.grid._RowManager",null,{constructor:function(_6f5){this.grid=_6f5;},linesToEms:2,overRow:-2,prepareStylingRow:function(_6f6,_6f7){return {index:_6f6,node:_6f7,odd:Boolean(_6f6&1),selected:this.grid.selection.isSelected(_6f6),over:this.isOver(_6f6),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_6f8,_6f9){var row=this.prepareStylingRow(_6f8,_6f9);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_6fb){var i=_6fb;i.node.className=i.customClasses;var h=i.node.style.height;_6f2(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_6fe){this.grid.updateRowStyles(_6fe);},setOverRow:function(_6ff){var last=this.overRow;this.overRow=_6ff;if((last!=this.overRow)&&(last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_701){return (this.overRow==_701);}});})();}if(!dojo._hasResource["dojox.grid._FocusManager"]){dojo._hasResource["dojox.grid._FocusManager"]=true;dojo.provide("dojox.grid._FocusManager");dojo.declare("dojox.grid._FocusManager",null,{constructor:function(_702){this.grid=_702;this.cell=null;this.rowIndex=-1;this._connects=[];this._connects.push(dojo.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(dojo.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(dojo.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(dojo.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(dojo.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView;this._initColumnHeaders();},isFocusCell:function(_703,_704){return (this.cell==_703)&&(this.rowIndex==_704);},isLastFocusCell:function(){if(this.cell){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return (this.rowIndex==0)&&(this.cell.index==0);}return false;},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return dojo.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_705){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){dojo.toggleClass(n,this.focusClass,_705);if(_705){var sl=this.scrollIntoView();try{if(!this.grid.edit.isEditing()){dojox.grid.util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){dojo.toggleClass(n,this.focusClass,true);dojox.grid.util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();}},_initColumnHeaders:function(){this._connects.push(dojo.connect(this.grid.viewsHeaderNode,"onblur",this,"doBlurHeader"));var _709=this._findHeaderCells();for(var i=0;i<_709.length;i++){this._connects.push(dojo.connect(_709[i],"onfocus",this,"doColHeaderFocus"));this._connects.push(dojo.connect(_709[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _70b=dojo.query("th",this.grid.viewsHeaderNode);var _70c=[];for(var i=0;i<_70b.length;i++){var _70e=_70b[i];var _70f=dojo.hasAttr(_70e,"tabindex");var _710=dojo.attr(_70e,"tabindex");if(_70f&&_710<0){_70c.push(_70e);}}return _70c;},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_714){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_714?_714:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_719){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_719);info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _71c=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_71c){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(dojo.isIE<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},styleRow:function(_71d){return;},setFocusIndex:function(_71e,_71f){this.setFocusCell(this.grid.getCell(_71f),_71e);},setFocusCell:function(_720,_721){if(_720&&!this.isFocusCell(_720,_721)){this.tabbingOut=false;this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_720;this.rowIndex=_721;this._focusifyCellNode(true);}if(dojo.isOpera){setTimeout(dojo.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _726=this.grid.getCell(col);if(!this.isLastFocusCell()&&!_726.editable){this.cell=_726;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _729=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_729.editable){this.cell=_729;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_72a,_72b){if(this.isNavHeader()){var _72c=this._findHeaderCells();var _72d=dojo.indexOf(_72c,this._colHeadNode);_72d+=_72b;if((_72d>=0)&&(_72d<_72c.length)){this._colHeadNode=_72c[_72d];this._colHeadFocusIdx=_72d;this._scrollHeader(_72d);this._colHeadNode.focus();}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_72a));if(_72a){if(_72a>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_72a<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_72b));this.setFocusIndex(row,col);if(_72a){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.previous();}else{if(!this.isNavHeader()){this.focusHeader();dojo.stopEvent(e);}else{this.tabOut(this.grid.domNode);}}},nextKey:function(e){var _737=this.grid.rowCount==0;if(e.target===this.grid.domNode){this.focusHeader();dojo.stopEvent(e);}else{if(this.isNavHeader()){this._colHeadNode=this._colHeadFocusIdx=null;if(this.isNoFocusCell()&&!_737){this.setFocusIndex(0,0);}else{if(this.cell&&!_737){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{this.tabOut(this.grid.lastFocusNode);}}}else{if(this.grid.edit.isEditing()){dojo.stopEvent(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_738){this.tabbingOut=true;_738.focus();},focusGridView:function(){dojox.grid.util.fire(this.focusView,"focus");},focusGrid:function(_739){this.focusGridView();this._focusifyCellNode(true);},focusHeader:function(){var _73a=this._findHeaderCells();if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}this._colHeadNode=_73a[this._colHeadFocusIdx];if(this._colHeadNode){dojox.grid.util.fire(this._colHeadNode,"focus");this._focusifyCellNode(false);}},doFocus:function(e){if(e&&e.target!=e.currentTarget){dojo.stopEvent(e);return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;dojo.stopEvent(e);},doBlur:function(e){dojo.stopEvent(e);},doBlurHeader:function(e){dojo.stopEvent(e);},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;dojo.stopEvent(e);},doLastNodeBlur:function(e){dojo.stopEvent(e);},doColHeaderFocus:function(e){dojo.toggleClass(e.target,this.focusClass,true);this._scrollHeader(this.getHeaderIndex());},doColHeaderBlur:function(e){dojo.toggleClass(e.target,this.focusClass,false);}});}if(!dojo._hasResource["dojox.grid._EditManager"]){dojo._hasResource["dojox.grid._EditManager"]=true;dojo.provide("dojox.grid._EditManager");dojo.declare("dojox.grid._EditManager",null,{constructor:function(_742){this.grid=_742;this.connections=[];if(dojo.isIE){this.connections.push(dojo.connect(document.body,"onfocus",dojo.hitch(this,"_boomerangFocus")));}},info:{},destroy:function(){dojo.forEach(this.connections,dojo.disconnect);},cellFocus:function(_743,_744){if(this.grid.singleClickEdit||this.isEditRow(_744)){this.setEditCell(_743,_744);}else{this.apply();}if(this.isEditing()||(_743&&_743.editable&&_743.alwaysEditing)){this._focusEditor(_743,_744);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_746){if(_746.index==this.info.rowIndex){_746.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_74a,_74b){return (this.info.rowIndex===_74a)&&(this.info.cell.index==_74b);},isEditRow:function(_74c){return this.info.rowIndex===_74c;},setEditCell:function(_74d,_74e){if(!this.isEditCell(_74e,_74d.index)&&this.grid.canEdit&&this.grid.canEdit(_74d,_74e)){this.start(_74d,_74e,this.isEditRow(_74e)||_74d.editable);}},_focusEditor:function(_74f,_750){dojox.grid.util.fire(_74f,"focus",[_750]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(dojo.isIE){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_751,_752,_753){this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_752)){this.applyRowEdit();this.grid.updateRow(_752);}if(_753){this.info={cell:_751,rowIndex:_752};this.grid.doStartEdit(_751,_752);this.grid.updateRow(_752);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_751,_752);this._doCatchBoomerang();},_editorDo:function(_754){var c=this.info.cell;c&&c.editable&&c[_754](this.info.rowIndex);},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_756,_757,_758){if(this.grid.canEdit(_757,_758)){this.grid.doApplyCellEdit(_756,_758,_757.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_759,_75a){var c=this.info.cell;if(this.isEditRow(_759)&&(!_75a||c.view==_75a)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_75c,_75d){var c=this.info.cell;if(this.isEditRow(_75d)&&c.view==_75c&&c.editable){c.restore(c,this.info.rowIndex);}}});}if(!dojo._hasResource["dojox.grid.Selection"]){dojo._hasResource["dojox.grid.Selection"]=true;dojo.provide("dojox.grid.Selection");dojo.declare("dojox.grid.Selection",null,{constructor:function(_75f){this.grid=_75f;this.selected=[];this.setMode(_75f.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_761){return this.grid.onCanSelect(_761);},onCanDeselect:function(_762){return this.grid.onCanDeselect(_762);},onSelected:function(_763){},onDeselected:function(_764){},onChanging:function(){},onChanged:function(){},isSelected:function(_765){if(this.mode=="none"){return false;}return this.selected[_765];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_768){if(this.mode=="none"){return -1;}for(var i=_768+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _76b=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_76b.push(i);}}return _76b;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating==0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating==0){this.onChanged();}},select:function(_770){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_770);this.addToSelection(_770);}else{this.toggleSelect(_770);}},addToSelection:function(_771){if(this.mode=="none"){return;}_771=Number(_771);if(this.selected[_771]){this.selectedIndex=_771;}else{if(this.onCanSelect(_771)!==false){this.selectedIndex=_771;this._beginUpdate();this.selected[_771]=true;this.onSelected(_771);this._endUpdate();}}},deselect:function(_772){if(this.mode=="none"){return;}_772=Number(_772);if(this.selectedIndex==_772){this.selectedIndex=-1;}if(this.selected[_772]){if(this.onCanDeselect(_772)===false){return;}this._beginUpdate();delete this.selected[_772];this.onDeselected(_772);this._endUpdate();}},setSelected:function(_773,_774){this[(_774?"addToSelection":"deselect")](_773);},toggleSelect:function(_775){this.setSelected(_775,!this.selected[_775]);},_range:function(_776,inTo,func){var s=(_776>=0?_776:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_77c,inTo){this._range(_77c,inTo,dojo.hitch(this,"addToSelection"));},deselectRange:function(_77e,inTo){this._range(_77e,inTo,dojo.hitch(this,"deselect"));},insert:function(_780){this.selected.splice(_780,0,false);if(this.selectedIndex>=_780){this.selectedIndex++;}},remove:function(_781){this.selected.splice(_781,1);if(this.selectedIndex>=_781){this.selectedIndex--;}},deselectAll:function(_782){for(var i in this.selected){if((i!=_782)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_784,_785,_786){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_784);}else{var _787=this.selectedIndex;if(!_785){this.deselectAll(_784);}if(_786){this.selectRange(_787,_784);}else{if(_785){this.toggleSelect(_784);}else{this.addToSelection(_784);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.dnd.getCopyKeyState(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});}if(!dojo._hasResource["dojox.grid._Events"]){dojo._hasResource["dojox.grid._Events"]=true;dojo.provide("dojox.grid._Events");dojo.declare("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_78c){var i=_78c;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_78c);this.edit.styleRow(_78c);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var dk=dojo.keys;switch(e.keyCode){case dk.ESCAPE:this.edit.cancel();break;case dk.ENTER:if(!this.edit.isEditing()){var _790=this.focus.getHeaderIndex();if(_790>=0){this.setSortIndex(_790);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.dnd.getCopyKeyState(e),e.shiftKey);}dojo.stopEvent(e);}if(!e.shiftKey){var _791=this.edit.isEditing();this.edit.apply();if(!_791){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _792=this.focus.focusView||this.views.views[0];_792.content.decorateEvent(e);this.onRowClick(e);}break;case dk.SPACE:if(!this.edit.isEditing()){var _790=this.focus.getHeaderIndex();if(_790>=0){this.setSortIndex(_790);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.dnd.getCopyKeyState(e),e.shiftKey);}dojo.stopEvent(e);}break;case dk.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case dk.LEFT_ARROW:case dk.RIGHT_ARROW:if(!this.edit.isEditing()){dojo.stopEvent(e);var _793=(e.keyCode==dk.LEFT_ARROW)?1:-1;if(dojo._isBodyLtr()){_793*=-1;}this.focus.move(0,_793);}break;case dk.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!=0){dojo.stopEvent(e);this.focus.move(-1,0);}break;case dk.DOWN_ARROW:if(!this.edit.isEditing()&&this.store&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);this.focus.move(1,0);}break;case dk.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!=0){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case dk.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}this.onRowClick(e);},onCellDblClick:function(e){if(dojo.isIE){this.edit.setEditCell(this._click[1].cell,this._click[1].rowIndex);}else{if(this._click[0].rowIndex!=this._click[1].rowIndex){this.edit.setEditCell(this._click[0].cell,this._click[0].rowIndex);}else{this.edit.setEditCell(e.cell,e.rowIndex);}}this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_7a0,_7a1){this.edit.cellFocus(_7a0,_7a1);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){dojo.stopEvent(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){dojo.stopEvent(e);}},onStartEdit:function(_7b3,_7b4){},onApplyCellEdit:function(_7b5,_7b6,_7b7){},onCancelEdit:function(_7b8){},onApplyEdit:function(_7b9){},onCanSelect:function(_7ba){return true;},onCanDeselect:function(_7bb){return true;},onSelected:function(_7bc){this.updateRowStyles(_7bc);},onDeselected:function(_7bd){this.updateRowStyles(_7bd);},onSelectionChanged:function(){}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_7be,_7bf,_7c0){_7c0=dojo.i18n.normalizeLocale(_7c0);var _7c1=_7c0.split("-");var _7c2=[_7be,"nls",_7bf].join(".");var _7c3=dojo._loadedModules[_7c2];if(_7c3){var _7c4;for(var i=_7c1.length;i>0;i--){var loc=_7c1.slice(0,i).join("_");if(_7c3[loc]){_7c4=_7c3[loc];break;}}if(!_7c4){_7c4=_7c3.ROOT;}if(_7c4){var _7c7=function(){};_7c7.prototype=_7c4;return new _7c7();}}throw new Error("Bundle not found: "+_7bf+" in "+_7be+" , locale="+_7c0);};dojo.i18n.normalizeLocale=function(_7c8){var _7c9=_7c8?_7c8.toLowerCase():dojo.locale;if(_7c9=="root"){_7c9="ROOT";}return _7c9;};dojo.i18n._requireLocalization=function(_7ca,_7cb,_7cc,_7cd){var _7ce=dojo.i18n.normalizeLocale(_7cc);var _7cf=[_7ca,"nls",_7cb].join(".");var _7d0="";if(_7cd){var _7d1=_7cd.split(",");for(var i=0;i<_7d1.length;i++){if(_7ce["indexOf"](_7d1[i])==0){if(_7d1[i].length>_7d0.length){_7d0=_7d1[i];}}}if(!_7d0){_7d0="ROOT";}}var _7d3=_7cd?_7d0:_7ce;var _7d4=dojo._loadedModules[_7cf];var _7d5=null;if(_7d4){if(dojo.config.localizationComplete&&_7d4._built){return;}var _7d6=_7d3.replace(/-/g,"_");var _7d7=_7cf+"."+_7d6;_7d5=dojo._loadedModules[_7d7];}if(!_7d5){_7d4=dojo["provide"](_7cf);var syms=dojo._getModuleSymbols(_7ca);var _7d9=syms.concat("nls").join("/");var _7da;dojo.i18n._searchLocalePath(_7d3,_7cd,function(loc){var _7dc=loc.replace(/-/g,"_");var _7dd=_7cf+"."+_7dc;var _7de=false;if(!dojo._loadedModules[_7dd]){dojo["provide"](_7dd);var _7df=[_7d9];if(loc!="ROOT"){_7df.push(loc);}_7df.push(_7cb);var _7e0=_7df.join("/")+".js";_7de=dojo._loadPath(_7e0,null,function(hash){var _7e2=function(){};_7e2.prototype=_7da;_7d4[_7dc]=new _7e2();for(var j in hash){_7d4[_7dc][j]=hash[j];}});}else{_7de=true;}if(_7de&&_7d4[_7dc]){_7da=_7d4[_7dc];}else{_7d4[_7dc]=_7da;}if(_7cd){return true;}});}if(_7cd&&_7ce!=_7d0){_7d4[_7ce.replace(/-/g,"_")]=_7d4[_7d0.replace(/-/g,"_")];}};(function(){var _7e4=dojo.config.extraLocale;if(_7e4){if(!_7e4 instanceof Array){_7e4=[_7e4];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_7e8,_7e9){req(m,b,_7e8,_7e9);if(_7e8){return;}for(var i=0;i<_7e4.length;i++){req(m,b,_7e4[i],_7e9);}};}})();dojo.i18n._searchLocalePath=function(_7eb,down,_7ed){_7eb=dojo.i18n.normalizeLocale(_7eb);var _7ee=_7eb.split("-");var _7ef=[];for(var i=_7ee.length;i>0;i--){_7ef.push(_7ee.slice(0,i).join("-"));}_7ef.push(false);if(down){_7ef.reverse();}for(var j=_7ef.length-1;j>=0;j--){var loc=_7ef[j]||"ROOT";var stop=_7ed(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_7f4,_7f5){function _7f6(_7f7){_7f7=dojo.i18n.normalizeLocale(_7f7);dojo.i18n._searchLocalePath(_7f7,true,function(loc){for(var i=0;i<_7f5.length;i++){if(_7f5[i]==loc){dojo["require"](_7f4+"_"+loc);return true;}}return false;});};_7f6();var _7fa=dojo.config.extraLocale||[];for(var i=0;i<_7fa.length;i++){_7f6(_7fa[i]);}};}if(!dojo._hasResource["dojox.grid._Grid"]){dojo._hasResource["dojox.grid._Grid"]=true;dojo.provide("dojox.grid._Grid");(function(){var jobs={cancel:function(_7fd){if(_7fd){clearTimeout(_7fd);}},jobs:[],job:function(_7fe,_7ff,_800){jobs.cancelJob(_7fe);var job=function(){delete jobs.jobs[_7fe];_800();};jobs.jobs[_7fe]=setTimeout(job,_7ff);},cancelJob:function(_802){jobs.cancel(jobs.jobs[_802]);}};dojo.declare("dojox.grid._Grid",[dijit._Widget,dijit._Templated,dojox.grid._Events],{templateString:"<div class=\"dojoxGrid\" hidefocus=\"hidefocus\" wairole=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\r\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" tabindex=\"-1\" wairole=\"presentation\"></div>\r\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" wairole=\"presentation\"></div>\r\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\r\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\r\n</div>\r\n",classTag:"dojoxGrid",get:function(_803){},rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,autoHeight:"",autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",sortInfo:0,themeable:true,_placeholders:null,buildRendering:function(){this.inherited(arguments);if(this.get==dojox.grid._Grid.prototype.get){this.get=null;}if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");dojox.html.metrics.initOnFontResize();this.connect(dojox.html.metrics,"onFontResize","textSizeChanged");dojox.grid.util.funnelEvents(this.domNode,this,"doKeyEvent",dojox.grid.util.keyEvents);this.connect(this,"onShow","renderOnIdle");},postMixInProperties:function(){this.inherited(arguments);var _804=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_804);this.errorMessage=dojo.string.substitute(this.errorMessage,_804);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);},postCreate:function(){this.styleChanged=this._styleChanged;this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.scroller){this.scroller.destroy();delete this.scroller;}if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_807){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.attr("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_807){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},styleChanged:function(){this.setStyledClass(this.domNode,"");},_styleChanged:function(){this.styleChanged();this.update();},textSizeChanged:function(){setTimeout(dojo.hitch(this,"_textSizeChanged"),1);},_textSizeChanged:function(){if(this.domNode){this.views.forEach(function(v){v.content.update();});this.render();}},sizeChange:function(){jobs.job(this.id+"SizeChange",50,dojo.hitch(this,"update"));},renderOnIdle:function(){setTimeout(dojo.hitch(this,"render"),1);},createManagers:function(){this.rows=new dojox.grid._RowManager(this);this.focus=new dojox.grid._FocusManager(this);this.edit=new dojox.grid._EditManager(this);},createSelection:function(){this.selection=new dojox.grid.Selection(this);},createScroller:function(){this.scroller=new dojox.grid._Scroller();this.scroller.grid=this;this.scroller._pageIdPrefix=this.id+"-";this.scroller.renderRow=dojo.hitch(this,"renderRow");this.scroller.removeRow=dojo.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new dojox.grid._Layout(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.render();this._resize();},createViews:function(){this.views=new dojox.grid._ViewManager(this);this.views.createView=dojo.hitch(this,"createView");},createView:function(_809,idx){var c=dojo.getObject(_809);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||dojox._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_80f){var s=_80f;if(s&&dojo.isString(s)){dojo.deprecated("dojox.grid._Grid.attr('structure', 'objVar')","use dojox.grid._Grid.attr('structure', objVar) instead","2.0");s=dojo.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_811){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.attr('structure', obj) instead.","2.0");this._setStructureAttr(_811);},getColumnTogglingItems:function(){return dojo.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new dijit.CheckedMenuItem({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_815){if(self.layout.setColumnVisibility(this._gridCell.index,_815)){var _816=this._gridCell.menuItems;if(_816.length>1){dojo.forEach(_816,function(item){if(item!==this){item.setAttribute("checked",_815);}},this);}var _815=dojo.filter(self.layout.cells,function(c){if(c.menuItems.length>1){dojo.forEach(c.menuItems,"item.attr('disabled', false);");}else{c.menuItems[0].attr("disabled",false);}return !c.hidden;});if(_815.length==1){dojo.forEach(_815[0].menuItems,"item.attr('disabled', true);");}}},destroy:function(){var _819=dojo.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_819,1);delete this._gridCell;dijit.CheckedMenuItem.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);return item;},this);},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.attr('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){dojo.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_81e){this.setScrollTop(0);},getItem:function(_81f){return null;},showMessage:function(_820){if(_820){this.messagesNode.innerHTML=_820;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_821,_822){this._resize(_821,_822);this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||dojo._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_825,_826){var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _828=this._getPadBorder();var hh=0;if(this._autoHeight){this.domNode.style.height="auto";this.viewsNode.style.height="";}else{if(typeof this.autoHeight=="number"){var h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.flex>0){}else{if(this.domNode.clientHeight<=_828.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}}if(_826){_825=_826;}if(_825){dojo.marginBox(this.domNode,_825);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){var h=dojo._getContentBox(pn).h;dojo.marginBox(this.domNode,{h:Math.max(0,h)});}}var h=dojo._getContentBox(this.domNode).h;if(h==0&&!this._autoHeight){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";hh=this._getHeaderHeight();}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var w=this.autoWidth?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(this.autoWidth){this.domNode.style.width=vw+"px";}},adaptHeight:function(_82d){var t=_82d||this._getHeaderHeight();var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _830=0,_831=0;var _832=dojo.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_830++;}else{_831++;}return (!has);});if(_830>0&&_831>0){dojo.forEach(_832,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.attr("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.attr("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();dojo.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_837,_838){this.views.renderRow(_837,_838);},rowRemoved:function(_839){this.views.rowRemoved(_839);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=null;},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}var _83c=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(_83c);this.postrender();},update:function(){this.render();},updateRow:function(_83d){_83d=Number(_83d);if(this.updating){this.invalidated[_83d]=true;}else{this.views.updateRow(_83d);this.scroller.rowHeightChanged(_83d);}},updateRows:function(_83e,_83f){_83e=Number(_83e);_83f=Number(_83f);if(this.updating){for(var i=0;i<_83f;i++){this.invalidated[i+_83e]=true;}}else{for(var i=0;i<_83f;i++){this.views.updateRow(i+_83e);}this.scroller.rowHeightChanged(_83e);}},updateRowCount:function(_841){if(this.updating){this.invalidated.rowCount=_841;}else{this.rowCount=_841;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_841);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_842){this.views.updateRowStyles(_842);},rowHeightChanged:function(_843){this.views.renormalizeRow(_843);this.scroller.rowHeightChanged(_843);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(dojo.isIE?100:50),scrollTo:function(_844){if(!this.fastScroll){this.setScrollTop(_844);return;}var _845=Math.abs(this.lastScrollTop-_844);this.lastScrollTop=_844;if(_845>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_844;this.views.setScrollTop(_844);jobs.job("dojoxGridScroll",200,dojo.hitch(this,"finishScrollJob"));}else{this.setScrollTop(_844);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_846){this.scroller.scroll(this.views.setScrollTop(_846));},scrollToRow:function(_847){this.setScrollTop(this.scroller.findScrollTop(_847)+1);},styleRowNode:function(_848,_849){if(_849){this.rows.styleRowNode(_848,_849);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_84b){return this.layout.cells[_84b];},setCellWidth:function(_84c,_84d){this.getCell(_84c).unitWidth=_84d;},getCellName:function(_84e){return "Cell "+_84e.index;},canSort:function(_84f){},sort:function(){},getSortAsc:function(_850){_850=_850==undefined?this.sortInfo:_850;return Boolean(_850>0);},getSortIndex:function(_851){_851=_851==undefined?this.sortInfo:_851;return Math.abs(_851)-1;},setSortIndex:function(_852,_853){var si=_852+1;if(_853!=undefined){si*=(_853?1:-1);}else{if(this.getSortIndex()==_852){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_855){if(this.canSort(_855)){this.sortInfo=_855;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_863,_864){this.onStartEdit(_863,_864);},doApplyCellEdit:function(_865,_866,_867){this.onApplyCellEdit(_865,_866,_867);},doCancelEdit:function(_868){this.onCancelEdit(_868);},doApplyEdit:function(_869){this.onApplyEdit(_869);},addRow:function(){this.updateRowCount(this.attr("rowCount")+1);},removeSelectedRows:function(){this.updateRowCount(Math.max(0,this.attr("rowCount")-this.selection.getSelected().length));this.selection.clear();}});dojox.grid._Grid.markupFactory=function(_86a,node,ctor,_86d){var d=dojo;var _86f=function(n){var w=d.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w)+"px";}return w;};if(!_86a.structure&&node.nodeName.toLowerCase()=="table"){_86a.structure=d.query("> colgroup",node).map(function(cg){var sv=d.attr(cg,"span");var v={noscroll:(d.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv):1),cells:[]};if(d.hasAttr(cg,"width")){v.width=_86f(cg);}return v;});if(!_86a.structure.length){_86a.structure.push({__span:Infinity,cells:[]});}d.query("thead > tr",node).forEach(function(tr,_876){var _877=0;var _878=0;var _879;var _87a=null;d.query("> th",tr).map(function(th){if(!_87a){_879=0;_87a=_86a.structure[0];}else{if(_877>=(_879+_87a.__span)){_878++;_879+=_87a.__span;var _87c=_87a;_87a=_86a.structure[_878];}}var cell={name:d.trim(d.attr(th,"name")||th.innerHTML),colSpan:parseInt(d.attr(th,"colspan")||1,10),type:d.trim(d.attr(th,"cellType")||"")};_877+=cell.colSpan;var _87e=d.attr(th,"rowspan");if(_87e){cell.rowSpan=_87e;}if(d.hasAttr(th,"width")){cell.width=_86f(th);}if(d.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(dojo.attr(th,"relWidth"),10);}if(d.hasAttr(th,"hidden")){cell.hidden=d.attr(th,"hidden")=="true";}if(_86d){_86d(th,cell);}cell.type=cell.type?dojo.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_87a.cells[_876]){_87a.cells[_876]=[];}_87a.cells[_876].push(cell);});});}return new ctor(_86a,node);};})();}if(!dojo._hasResource["dojox.grid.DataSelection"]){dojo._hasResource["dojox.grid.DataSelection"]=true;dojo.provide("dojox.grid.DataSelection");dojo.declare("dojox.grid.DataSelection",dojox.grid.Selection,{getFirstSelected:function(){var idx=dojox.grid.Selection.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_880){var _881=this.grid.getItemIndex(_880);var idx=dojox.grid.Selection.prototype.getNextSelected.call(this,_881);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _883=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_883.push(this.grid.getItem(i));}}return _883;},addToSelection:function(_886){if(this.mode=="none"){return;}var idx=null;if(typeof _886=="number"||typeof _886=="string"){idx=_886;}else{idx=this.grid.getItemIndex(_886);}dojox.grid.Selection.prototype.addToSelection.call(this,idx);},deselect:function(_888){if(this.mode=="none"){return;}var idx=null;if(typeof _888=="number"||typeof _888=="string"){idx=_888;}else{idx=this.grid.getItemIndex(_888);}dojox.grid.Selection.prototype.deselect.call(this,idx);},deselectAll:function(_88a){var idx=null;if(_88a||typeof _88a=="number"){if(typeof _88a=="number"||typeof _88a=="string"){idx=_88a;}else{idx=this.grid.getItemIndex(_88a);}dojox.grid.Selection.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});}if(!dojo._hasResource["dojox.grid.DataGrid"]){dojo._hasResource["dojox.grid.DataGrid"]=true;dojo.provide("dojox.grid.DataGrid");dojo.declare("dojox.grid.DataGrid",dojox.grid._Grid,{store:null,query:null,queryOptions:null,fetchText:"...",items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},createSelection:function(){this.selection=new dojox.grid.DataSelection(this);},get:function(_88c,_88d){return (!_88d?this.defaultValue:(!this.field?this.value:this.grid.store.getValue(_88d,this.field)));},_onSet:function(item,_88f,_890,_891){var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_addItem:function(item,_894,_895){var idty=this._hasIdentity?this.store.getIdentity(item):dojo.toJson(this.query)+":idx:"+_894+":sort:"+dojo.toJson(this.getSortProps());var o={idty:idty,item:item};this._by_idty[idty]=this._by_idx[_894]=o;if(!_895){this.updateRow(_894);}},_onNew:function(item,_899){var _89a=this.attr("rowCount");this._addingItem=true;this.updateRowCount(_89a+1);this._addingItem=false;this._addItem(item,_89a);this.showMessage();},_onDelete:function(item){var idx=this._getItemIndex(item,true);if(idx>=0){var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.attr("rowCount")-1);if(this.attr("rowCount")===0){this.showMessage(this.noDataMessage);}}},_onRevert:function(){this._refresh();},setStore:function(_89e,_89f,_8a0){this._setQuery(_89f,_8a0);this._setStore(_89e);this._refresh(true);},setQuery:function(_8a1,_8a2){this._setQuery(_8a1,_8a2);this._refresh(true);},setItems:function(_8a3){this.items=_8a3;this._setStore(this.store);this._refresh(true);},_setQuery:function(_8a4,_8a5){this.query=_8a4;this.queryOptions=_8a5||this.queryOptions;},_setStore:function(_8a6){if(this.store&&this._store_connects){dojo.forEach(this._store_connects,function(arr){dojo.forEach(arr,dojo.disconnect);});}this.store=_8a6;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.rowCount=size;this._setAutoHeightAttr(this.autoHeight,true);this.prerender();}else{this.updateRowCount(size);}}},_onFetchComplete:function(_8ac,req){if(_8ac&&_8ac.length>0){dojo.forEach(_8ac,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_8ac.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;if(!_8ac||!_8ac.length){this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){console.log(err);delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_8b4,_8b5){var _8b4=_8b4||0;if(this.store&&!this._pending_requests[_8b4]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_8b4]=true;try{if(this.items){var _8b6=this.items;var _8b7=this.store;this.rowsPerPage=_8b6.length;var req={start:_8b4,count:this.rowsPerPage,isRender:_8b5};this._onFetchBegin(_8b6.length,req);var _8b9=0;dojo.forEach(_8b6,function(i){if(!_8b7.isItemLoaded(i)){_8b9++;}});if(_8b9===0){this._onFetchComplete(_8b6,req);}else{var _8bb=function(item){_8b9--;if(_8b9===0){this._onFetchComplete(_8b6,req);}};dojo.forEach(_8b6,function(i){if(!_8b7.isItemLoaded(i)){_8b7.loadItem({item:i,onItem:_8bb,scope:this});}},this);}}else{this.store.fetch({start:_8b4,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_8b5,onBegin:dojo.hitch(this,"_onFetchBegin"),onComplete:dojo.hitch(this,"_onFetchComplete"),onError:dojo.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e);}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_8c2){if(!_8c2&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_8c7,_8c8){this.query=_8c7;if(_8c8){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.attr("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_8cc){return this._pending_requests[_8cc];},_rowToPage:function(_8cd){return (this.rowsPerPage?Math.floor(_8cd/this.rowsPerPage):_8cd);},_pageToRow:function(_8ce){return (this.rowsPerPage?this.rowsPerPage*_8ce:_8ce);},_preparePage:function(_8cf){if((_8cf<this._bop||_8cf>=this._eop)&&!this._addingItem){var _8d0=this._rowToPage(_8cf);this._needPage(_8d0);this._bop=_8d0*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.attr("rowCount"));}},_needPage:function(_8d1){if(!this._pages[_8d1]){this._pages[_8d1]=true;this._requestPage(_8d1);}},_requestPage:function(_8d2){var row=this._pageToRow(_8d2);var _8d4=Math.min(this.rowsPerPage,this.attr("rowCount")-row);if(_8d4>0){this._requests++;if(!this._requestsPending(row)){setTimeout(dojo.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_8d5){return _8d5.field;},_refresh:function(_8d6){this._clearData();this._fetch(0,_8d6);},sort:function(){this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_8da){if(this.store&&this.store.getState){var _8db=this.store.getState(_8da.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_8db[s]){c=" dojoxGridRow-"+s;break;}}_8da.customClasses+=c;}},onStyleRow:function(_8e0){this.styleRowState(_8e0);this.inherited(arguments);},canEdit:function(_8e1,_8e2){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _8e6={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_8e8,_8e9){if(!this._cache[_8e9]){this._cache[_8e9]=this._copyAttr(_8e9,_8e8.field);}this.onStartEdit(_8e8,_8e9);},doApplyCellEdit:function(_8ea,_8eb,_8ec){this.store.fetchItemByIdentity({identity:this._by_idx[_8eb].idty,onItem:dojo.hitch(this,function(item){var _8ee=this.store.getValue(item,_8ec);if(typeof _8ee=="number"){_8ea=isNaN(_8ea)?_8ea:parseFloat(_8ea);}else{if(typeof _8ee=="boolean"){_8ea=_8ea=="true"?true:_8ea=="false"?false:_8ea;}else{if(_8ee instanceof Date){var _8ef=new Date(_8ea);_8ea=isNaN(_8ef.getTime())?_8ea:_8ef;}}}this.store.setValue(item,_8ec,_8ea);this.onApplyCellEdit(_8ea,_8eb,_8ec);})});},doCancelEdit:function(_8f0){var _8f1=this._cache[_8f0];if(_8f1){this.updateRow(_8f0);delete this._cache[_8f0];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_8f2,_8f3){var _8f4=this._cache[_8f2];this.onApplyEdit(_8f2);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var _8f5=this.selection.getSelected();if(_8f5.length){dojo.forEach(_8f5,this.store.deleteItem,this.store);this.selection.clear();}}}});dojox.grid.DataGrid.markupFactory=function(_8f6,node,ctor,_8f9){return dojox.grid._Grid.markupFactory(_8f6,node,ctor,function(node,_8fb){var _8fc=dojo.trim(dojo.attr(node,"field")||"");if(_8fc){_8fb.field=_8fc;}_8fb.field=_8fb.field||_8fb.name;if(_8f9){_8f9(node,_8fb);}});};}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\r\n\t><span class=\"dijitReset dijitRight dijitInline\"\r\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\" \r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" \r\n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span \r\n\t\t\t\t></span \r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\" \r\n\t\t\t\t\tid=\"${id}_label\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\r\n\t\t\t\t></span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n",attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled||this.readOnly){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(e.type!="click"&&!(this.type=="submit"||this.type=="reset")){dojo.stopEvent(e);}if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _900=dijit.byNode(node);if(_900&&typeof _900._onSubmit=="function"){_900._onSubmit(e);break;}}}}},_setValueAttr:function(_901){var attr=this.attributeMap.value||"";if(this[attr.node||attr||"domNode"].tagName=="BUTTON"){if(_901!=this.value){console.debug("Cannot change the value attribute on a Button widget.");}}},_fillContent:function(_903){if(_903&&!("label" in this.params)){this.attr("label",_903.innerHTML);}},postCreate:function(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone");}dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_906){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_906);},_setLabelAttr:function(_907){this.containerNode.innerHTML=this.label=_907;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey\"\r\n\t><span class='dijitReset dijitRight dijitInline'\r\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\" \r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\"\r\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" \r\n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" \r\n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode,popupStateNode\" \r\n\t\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n",_fillContent:function(){if(this.srcNodeRef){var _908=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_908[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _909=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_909);delete this.dropDownContainer;}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}this.inherited(arguments);},_onArrowClick:function(e){if(this.disabled||this.readOnly){return;}this._toggleDropDown();},_onDropDownClick:function(e){var _90c=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!_90c||e.detail!=0||this._seenKeydown){this._onArrowClick(e);}this._seenKeydown=false;},_onDropDownKeydown:function(e){this._seenKeydown=true;},_onDropDownBlur:function(e){this._seenKeydown=false;},_onKey:function(e){if(this.disabled||this.readOnly){return;}if(e.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(e);this._toggleDropDown();}}},_onBlur:function(){this._closeDropDown();this.inherited(arguments);},_toggleDropDown:function(){if(this.disabled||this.readOnly){return;}dijit.focus(this.popupStateNode);var _910=this.dropDown;if(!_910){return;}if(!this._opened){if(_910.href&&!_910.isLoaded){var self=this;var _912=dojo.connect(_910,"onLoad",function(){dojo.disconnect(_912);self._openDropDown();});_910.refresh();return;}else{this._openDropDown();}}else{this._closeDropDown();}},_openDropDown:function(){var _913=this.dropDown;var _914=_913.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_913,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function(){self._closeDropDown(true);},onCancel:function(){self._closeDropDown(true);},onClose:function(){_913.domNode.style.width=_914;self.popupStateNode.removeAttribute("popupActive");self._opened=false;}});if(this.domNode.offsetWidth>_913.domNode.offsetWidth){var _916=null;if(!this.isLeftToRight()){_916=_913.domNode.parentNode;var _917=_916.offsetLeft+_916.offsetWidth;}dojo.marginBox(_913.domNode,{w:this.domNode.offsetWidth});if(_916){_916.style.left=_917-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_913.focus){_913.focus();}},_closeDropDown:function(_918){if(this._opened){dijit.popup.close(this.dropDown);if(_918){this.focus();}this._opened=false;}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\r\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\r\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\"\r\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"  dojoAttachPoint=\"titleNode\"\r\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\r\n\t\t></td\r\n\t\t><td class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\r\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\r\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse\"\r\n\t\t\tstateModifier=\"DownArrow\"\r\n\t\t\ttitle=\"${optionsTitle}\" ${nameAttrSetting}\r\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n",attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){if(dojo.isIE){this.connect(node,"onactivate",this._onNodeFocus);this.connect(node,"ondeactivate",this._onNodeBlur);}else{this.connect(node,"onfocus",this._onNodeFocus);this.connect(node,"onblur",this._onNodeBlur);}}));},focusFocalNode:function(node){this._focusedNode=node;dijit.focus(node);},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1];},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode);},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0];},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode);},getFocalNodes:function(){return this._focalNodes;},_onNodeFocus:function(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function(){this.inherited(arguments);this._focusedNode=null;}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function(_920){this.checked=_920;dojo.attr(this.focusNode||this.domNode,"checked",_920);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_920);this._setStateClass();this._handleOnChange(_920,true);},setChecked:function(_921){dojo.deprecated("setChecked("+_921+") is deprecated. Use attr('checked',"+_921+") instead.","","2.0");this.attr("checked",_921);},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(_922){var _923=_922.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_923==1&&dojo.date.isLeapYear(_922)){return 29;}return days[_923];};dojo.date.isLeapYear=function(_925){var year=_925.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_927){var str=_927.toString();var tz="";var _92a;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_92a=str.match(pat))){tz=_92a[1];}else{str=_927.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_92a=str.match(pat))){tz=_92a[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_92d,_92e,_92f){_92d=new Date(Number(_92d));_92e=new Date(Number(_92e||new Date()));if(_92f!=="undefined"){if(_92f=="date"){_92d.setHours(0,0,0,0);_92e.setHours(0,0,0,0);}else{if(_92f=="time"){_92d.setFullYear(0,0,0);_92e.setFullYear(0,0,0);}}}if(_92d>_92e){return 1;}if(_92d<_92e){return -1;}return 0;};dojo.date.add=function(date,_931,_932){var sum=new Date(Number(date));var _934=false;var _935="Date";switch(_931){case "day":break;case "weekday":var days,_937;var mod=_932%5;if(!mod){days=(_932>0)?5:-5;_937=(_932>0)?((_932-5)/5):((_932+5)/5);}else{days=mod;_937=parseInt(_932/5);}var strt=date.getDay();var adj=0;if(strt==6&&_932>0){adj=1;}else{if(strt==0&&_932<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_932>0)?2:-2;}_932=(7*_937)+days+adj;break;case "year":_935="FullYear";_934=true;break;case "week":_932*=7;break;case "quarter":_932*=3;case "month":_934=true;_935="Month";break;case "hour":case "minute":case "second":case "millisecond":_935="UTC"+_931.charAt(0).toUpperCase()+_931.substring(1)+"s";}if(_935){sum["set"+_935](sum["get"+_935]()+_932);}if(_934&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_93c,_93d,_93e){_93d=_93d||new Date();_93e=_93e||"day";var _93f=_93d.getFullYear()-_93c.getFullYear();var _940=1;switch(_93e){case "quarter":var m1=_93c.getMonth();var m2=_93d.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_93f*4);_940=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_93c,_93d,"day"));var _946=parseInt(dojo.date.difference(_93c,_93d,"week"));var mod=days%7;if(mod==0){days=_946*5;}else{var adj=0;var aDay=_93c.getDay();var bDay=_93d.getDay();_946=parseInt(days/7);mod=days%7;var _94b=new Date(_93c);_94b.setDate(_94b.getDate()+(_946*7));var _94c=_94b.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_94c+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_94c+mod)<0:adj=2;}}}days+=adj;days-=(_946*2);}_940=days;break;case "year":_940=_93f;break;case "month":_940=(_93d.getMonth()-_93c.getMonth())+(_93f*12);break;case "week":_940=parseInt(dojo.date.difference(_93c,_93d,"day")/7);break;case "day":_940/=24;case "hour":_940/=60;case "minute":_940/=60;case "second":_940/=1000;case "millisecond":_940*=_93d.getTime()-_93c.getTime();}return Math.round(_940);};}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(_94d){var _94e={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,sy:4};var _94f=dojo.cldr.supplemental._region(_94d);var dow=_94e[_94f];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function(_951){_951=dojo.i18n.normalizeLocale(_951);var tags=_951.split("-");var _953=tags[1];if(!_953){_953={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_953.length==4){_953=tags[2];}}return _953;};dojo.cldr.supplemental.getWeekend=function(_954){var _955={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _956={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _957=dojo.cldr.supplemental._region(_954);var _958=_955[_957];var end=_956[_957];if(_958===undefined){_958=6;}if(end===undefined){end=0;}return {start:_958,end:end};};}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_95b){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_95b&&_95b.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_95f){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_95f);};dojo.regexp.group=function(_962,_963){return "("+(_963?"?:":"")+_962+")";};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function _964(_965,_966,_967,_968){return _968.replace(/([a-z])\1*/ig,function(_969){var s,pad;var c=_969.charAt(0);var l=_969.length;var _96e=["abbr","wide","narrow"];switch(c){case "G":s=_966[(l<4)?"eraAbbr":"eraNames"][_965.getFullYear()<0?0:1];break;case "y":s=_965.getFullYear();switch(l){case 1:break;case 2:if(!_967){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_965.getMonth()+1)/3);pad=true;break;case "M":var m=_965.getMonth();if(l<3){s=m+1;pad=true;}else{var _970=["months","format",_96e[l-3]].join("-");s=_966[_970][m];}break;case "w":var _971=0;s=dojo.date.locale._getWeekOfYear(_965,_971);pad=true;break;case "d":s=_965.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_965);pad=true;break;case "E":var d=_965.getDay();if(l<3){s=d+1;pad=true;}else{var _973=["days","format",_96e[l-3]].join("-");s=_966[_973][d];}break;case "a":var _974=(_965.getHours()<12)?"am":"pm";s=_966[_974];break;case "h":case "H":case "K":case "k":var h=_965.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_965.getMinutes();pad=true;break;case "s":s=_965.getSeconds();pad=true;break;case "S":s=Math.round(_965.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.getTimezoneName(_965);if(s){break;}l=4;case "Z":var _976=_965.getTimezoneOffset();var tz=[(_976<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_976)/60),2),dojo.string.pad(Math.abs(_976)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_968);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale.format=function(_978,_979){_979=_979||{};var _97a=dojo.i18n.normalizeLocale(_979.locale);var _97b=_979.formatLength||"short";var _97c=dojo.date.locale._getGregorianBundle(_97a);var str=[];var _97e=dojo.hitch(this,_964,_978,_97c,_979.fullYear);if(_979.selector=="year"){var year=_978.getFullYear();if(_97a.match(/^zh|^ja/)){year+="年";}return year;}if(_979.selector!="time"){var _980=_979.datePattern||_97c["dateFormat-"+_97b];if(_980){str.push(_981(_980,_97e));}}if(_979.selector!="date"){var _982=_979.timePattern||_97c["timeFormat-"+_97b];if(_982){str.push(_981(_982,_97e));}}var _983=str.join(" ");return _983;};dojo.date.locale.regexp=function(_984){return dojo.date.locale._parseInfo(_984).regexp;};dojo.date.locale._parseInfo=function(_985){_985=_985||{};var _986=dojo.i18n.normalizeLocale(_985.locale);var _987=dojo.date.locale._getGregorianBundle(_986);var _988=_985.formatLength||"short";var _989=_985.datePattern||_987["dateFormat-"+_988];var _98a=_985.timePattern||_987["timeFormat-"+_988];var _98b;if(_985.selector=="date"){_98b=_989;}else{if(_985.selector=="time"){_98b=_98a;}else{_98b=_989+" "+_98a;}}var _98c=[];var re=_981(_98b,dojo.hitch(this,_98e,_98c,_987,_985));return {regexp:re,tokens:_98c,bundle:_987};};dojo.date.locale.parse=function(_98f,_990){var info=dojo.date.locale._parseInfo(_990);var _992=info.tokens,_993=info.bundle;var re=new RegExp("^"+info.regexp+"$",info.strict?"":"i");var _995=re.exec(_98f);if(!_995){return null;}var _996=["abbr","wide","narrow"];var _997=[1970,0,1,0,0,0,0];var amPm="";var _999=dojo.every(_995,function(v,i){if(!i){return true;}var _99c=_992[i-1];var l=_99c.length;switch(_99c.charAt(0)){case "y":if(l!=2&&_990.strict){_997[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear();var _99f=year.substring(0,2)*100;var _9a0=Math.min(Number(year.substring(2,4))+20,99);var num=(v<_9a0)?_99f+v:_99f-100+v;_997[0]=num;}else{if(_990.strict){return false;}_997[0]=v;}}break;case "M":if(l>2){var _9a2=_993["months-format-"+_996[l-3]].concat();if(!_990.strict){v=v.replace(".","").toLowerCase();_9a2=dojo.map(_9a2,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_9a2,v);if(v==-1){return false;}}else{v--;}_997[1]=v;break;case "E":case "e":var days=_993["days-format-"+_996[l-3]].concat();if(!_990.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_997[1]=0;case "d":_997[2]=v;break;case "a":var am=_990.am||_993.am;var pm=_990.pm||_993.pm;if(!_990.strict){var _9a8=/\./g;v=v.replace(_9a8,"").toLowerCase();am=am.replace(_9a8,"").toLowerCase();pm=pm.replace(_9a8,"").toLowerCase();}if(_990.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_997[3]=v;break;case "m":_997[4]=v;break;case "s":_997[5]=v;break;case "S":_997[6]=v;}return true;});var _9a9=+_997[3];if(amPm==="p"&&_9a9<12){_997[3]=_9a9+12;}else{if(amPm==="a"&&_9a9==12){_997[3]=0;}}var _9aa=new Date(_997[0],_997[1],_997[2],_997[3],_997[4],_997[5],_997[6]);if(_990.strict){_9aa.setFullYear(_997[0]);}var _9ab=_992.join(""),_9ac=_9ab.indexOf("d")!=-1,_9ad=_9ab.indexOf("M")!=-1;if(!_999||(_9ad&&_9aa.getMonth()>_997[1])||(_9ac&&_9aa.getDate()>_997[2])){return null;}if((_9ad&&_9aa.getMonth()<_997[1])||(_9ac&&_9aa.getDate()<_997[2])){_9aa=dojo.date.add(_9aa,"hour",1);}return _9aa;};function _981(_9ae,_9af,_9b0,_9b1){var _9b2=function(x){return x;};_9af=_9af||_9b2;_9b0=_9b0||_9b2;_9b1=_9b1||_9b2;var _9b4=_9ae.match(/(''|[^'])+/g);var _9b5=_9ae.charAt(0)=="'";dojo.forEach(_9b4,function(_9b6,i){if(!_9b6){_9b4[i]="";}else{_9b4[i]=(_9b5?_9b0:_9af)(_9b6);_9b5=!_9b5;}});return _9b1(_9b4.join(""));};function _98e(_9b8,_9b9,_9ba,_9bb){_9bb=dojo.regexp.escapeString(_9bb);if(!_9ba.strict){_9bb=_9bb.replace(" a"," ?a");}return _9bb.replace(/([a-z])\1*/ig,function(_9bc){var s;var c=_9bc.charAt(0);var l=_9bc.length;var p2="",p3="";if(_9ba.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_9ba.am||_9b9.am||"AM";var pm=_9ba.pm||_9b9.pm||"PM";if(_9ba.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_9b8){_9b8.push(_9bc);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _9c4=[];dojo.date.locale.addCustomFormats=function(_9c5,_9c6){_9c4.push({pkg:_9c5,name:_9c6});};dojo.date.locale._getGregorianBundle=function(_9c7){var _9c8={};dojo.forEach(_9c4,function(desc){var _9ca=dojo.i18n.getLocalization(desc.pkg,desc.name,_9c7);_9c8=dojo.mixin(_9c8,_9ca);},this);return _9c8;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,_9cd,_9ce){var _9cf;var _9d0=dojo.date.locale._getGregorianBundle(_9ce);var _9d1=[item,_9cd,type];if(_9cd=="standAlone"){var key=_9d1.join("-");_9cf=_9d0[key];if(_9cf[0]==1){_9cf=undefined;}}_9d1[1]="format";return (_9cf||_9d0[_9d1.join("-")]).concat();};dojo.date.locale.isWeekend=function(_9d3,_9d4){var _9d5=dojo.cldr.supplemental.getWeekend(_9d4);var day=(_9d3||new Date()).getDay();if(_9d5.end<_9d5.start){_9d5.end+=7;if(day<_9d5.start){day+=7;}}return day>=_9d5.start&&day<=_9d5.end;};dojo.date.locale._getDayOfYear=function(_9d7){return dojo.date.difference(new Date(_9d7.getFullYear(),0,1,_9d7.getHours()),_9d7)+1;};dojo.date.locale._getWeekOfYear=function(_9d8,_9d9){if(arguments.length==1){_9d9=0;}var _9da=new Date(_9d8.getFullYear(),0,1).getDay();var adj=(_9da-_9d9+7)%7;var week=Math.floor((dojo.date.locale._getDayOfYear(_9d8)+adj-1)/7);if(_9da==_9d9){week++;}return week;};}if(!dojo._hasResource["dijit._Calendar"]){dojo._hasResource["dijit._Calendar"]=true;dojo.provide("dijit._Calendar");dojo.declare("dijit._Calendar",[dijit._Widget,dijit._Templated],{templateString:"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\">\r\n\t<thead>\r\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\r\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"decrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" waiRole=\"presentation\">\r\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset' colspan=\"5\">\r\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitCalendarMonthLabelSpacer\"></div>\r\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonthLabel\"></div>\r\n\t\t\t</th>\r\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"incrementMonth\">\r\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" waiRole=\"presentation\">\r\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\r\n\t\t\t</th>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\"><span class=\"dijitCalendarDayLabel\"></span></th>\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut\" class=\"dijitReset dijitCalendarBodyContainer\">\r\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\">\r\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\"><span class=\"dijitCalendarDateLabel\"></span></td>\r\n\t\t</tr>\r\n\t</tbody>\r\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\r\n\t\t<tr>\r\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\r\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\r\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\r\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\r\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\r\n\t\t\t\t</h3>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tfoot>\r\n</table>\t\r\n",value:new Date(),dayWidth:"narrow",setValue:function(_9dd){dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use attr('value', ...) instead.","","2.0");this.attr("value",_9dd);},_getValueAttr:function(_9de){var _9de=new Date(this.value);_9de.setHours(0,0,0,0);if(_9de.getDate()<this.value.getDate()){_9de=dojo.date.add(_9de,"hour",1);}return _9de;},_setValueAttr:function(_9df){if(!this.value||dojo.date.compare(_9df,this.value)){_9df=new Date(_9df);_9df.setHours(1);this.displayMonth=new Date(_9df);if(!this.isDisabledDate(_9df,this.lang)){this.value=_9df;this.onChange(this.attr("value"));}this._populateGrid();}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(dojo.doc.createTextNode(text));},_populateGrid:function(){var _9e2=this.displayMonth;_9e2.setDate(1);var _9e3=_9e2.getDay();var _9e4=dojo.date.getDaysInMonth(_9e2);var _9e5=dojo.date.getDaysInMonth(dojo.date.add(_9e2,"month",-1));var _9e6=new Date();var _9e7=this.value;var _9e8=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_9e8>_9e3){_9e8-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_9e9,i){i+=_9e8;var date=new Date(_9e2);var _9ec,_9ed="dijitCalendar",adj=0;if(i<_9e3){_9ec=_9e5-_9e3+i+1;adj=-1;_9ed+="Previous";}else{if(i>=(_9e3+_9e4)){_9ec=i-_9e3-_9e4+1;adj=1;_9ed+="Next";}else{_9ec=i-_9e3+1;_9ed+="Current";}}if(adj){date=dojo.date.add(date,"month",adj);}date.setDate(_9ec);if(!dojo.date.compare(date,_9e6,"date")){_9ed="dijitCalendarCurrentDate "+_9ed;}if(!dojo.date.compare(date,_9e7,"date")){_9ed="dijitCalendarSelectedDate "+_9ed;}if(this.isDisabledDate(date,this.lang)){_9ed="dijitCalendarDisabledDate "+_9ed;}var _9ef=this.getClassForDate(date,this.lang);if(_9ef){_9ed=_9ef+" "+_9ed;}_9e9.className=_9ed+"Month dijitCalendarDateTemplate";_9e9.dijitDateValue=date.valueOf();var _9f0=dojo.query(".dijitCalendarDateLabel",_9e9)[0];this._setText(_9f0,date.getDate());},this);var _9f1=dojo.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,_9f1[_9e2.getMonth()]);var y=_9e2.getFullYear()-1;var d=new Date();dojo.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],dojo.date.locale.format(d,{selector:"year",locale:this.lang}));},this);var _9f5=this;var _9f6=function(_9f7,_9f8,adj){_9f5._connects.push(dijit.typematic.addMouseListener(_9f5[_9f7],_9f5,function(_9fa){if(_9fa>=0){_9f5._adjustDisplay(_9f8,adj);}},0.8,500));};_9f6("incrementMonth","month",1);_9f6("decrementMonth","month",-1);_9f6("nextYearLabelNode","year",1);_9f6("previousYearLabelNode","year",-1);},goToToday:function(){this.attr("value",new Date());},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);var _9fb=dojo.hitch(this,function(_9fc,n){var _9fe=dojo.query(_9fc,this.domNode)[0];for(var i=0;i<n;i++){_9fe.parentNode.appendChild(_9fe.cloneNode(true));}});_9fb(".dijitCalendarDayLabelTemplate",6);_9fb(".dijitCalendarDateTemplate",6);_9fb(".dijitCalendarWeekTemplate",5);var _a00=dojo.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang);var _a01=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_a02,i){this._setText(_a02,_a00[(i+_a01)%7]);},this);var _a04=dojo.date.locale.getNames("months","wide","standAlone",this.lang);dojo.forEach(_a04,function(name){var _a06=dojo.create("div",null,this.monthLabelSpacer);this._setText(_a06,name);},this);this.value=null;this.attr("value",new Date());},_adjustDisplay:function(part,_a08){this.displayMonth=dojo.date.add(this.displayMonth,part,_a08);this._populateGrid();},_onDayClick:function(evt){dojo.stopEvent(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.attr("value",node.dijitDateValue);this.onValueSelected(this.attr("value"));}},_onDayMouseOver:function(evt){var node=evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){dojo.addClass(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}for(var node=evt.relatedTarget;node;){if(node==this._currentNode){return;}try{node=node.parentNode;}catch(x){node=null;}}dojo.removeClass(this._currentNode,"dijitCalendarHoveredDate");this._currentNode=null;},onValueSelected:function(date){},onChange:function(date){},isDisabledDate:function(_a11,_a12){},getClassForDate:function(_a13,_a14){}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",templateString:"<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode'\r\n\tdojoAttachEvent='onmouseenter:_onMouse,onmouseleave:_onMouse'\r\n\tautocomplete=\"off\" type=\"${type}\" ${nameAttrSetting}\r\n\t/>\r\n",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function(_a15,_a16,_a17){var _a18;if(_a15!==undefined){_a18=this.filter(_a15);if(typeof _a17!="string"){if(_a18!==null&&((typeof _a18!="number")||!isNaN(_a18))){_a17=this.filter(this.format(_a18,this.constraints));}else{_a17="";}}}if(_a17!=null&&_a17!=undefined&&((typeof _a17)!="number"||!isNaN(_a17))&&this.textbox.value!=_a17){this.textbox.value=_a17;}this.inherited(arguments,[_a18,_a16]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_a19){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_a19);},_setDisplayedValueAttr:function(_a1a){if(_a1a===null||_a1a===undefined){_a1a="";}else{if(typeof _a1a!="string"){_a1a=String(_a1a);}}this.textbox.value=_a1a;this._setValueAttr(this.attr("value"),undefined,_a1a);},format:function(_a1b,_a1c){return ((_a1b==null||_a1b==undefined)?"":(_a1b.toString?_a1b.toString():_a1b));},parse:function(_a1d,_a1e){return _a1d;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _a20=this;setTimeout(function(){_a20._handleOnChange(_a20.attr("value"),false);},0);}this._refreshState();},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}this._layoutHack();},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_onFocus:function(e){if(this.disabled){return;}this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_a25,_a26,stop){var _a28=dojo.global;var _a29=dojo.doc;_a25=dojo.byId(_a25);if(isNaN(_a26)){_a26=0;}if(isNaN(stop)){stop=_a25.value?_a25.value.length:0;}_a25.focus();if(_a29["selection"]&&dojo.body()["createTextRange"]){if(_a25.createTextRange){var _a2a=_a25.createTextRange();with(_a2a){collapse(true);moveStart("character",_a26);moveEnd("character",stop);select();}}}else{if(_a28["getSelection"]){var _a2b=_a28.getSelection();if(_a25.setSelectionRange){_a25.setSelectionRange(_a26,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\r\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\r\n\t<div class=\"dijitTooltipConnector\"></div>\r\n</div>\r\n",postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_a2c,_a2d,_a2e){if(this.aroundNode&&this.aroundNode===_a2d){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_a2c;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _a2f={};var ltr=this.isLeftToRight();dojo.forEach((_a2e&&_a2e.length)?_a2e:dijit.Tooltip.defaultPosition,function(pos){switch(pos){case "after":_a2f[ltr?"BR":"BL"]=ltr?"BL":"BR";break;case "before":_a2f[ltr?"BL":"BR"]=ltr?"BR":"BL";break;case "below":_a2f[ltr?"BL":"BR"]=ltr?"TL":"TR";_a2f[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above":default:_a2f[ltr?"TL":"TR"]=ltr?"BL":"BR";_a2f[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});var pos=dijit.placeOnScreenAroundElement(this.domNode,_a2d,_a2f,dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_a2d;},orient:function(node,_a34,_a35){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_a34+"-"+_a35];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_a36){if(this._onDeck&&this._onDeck[1]==_a36){this._onDeck=null;}else{if(this.aroundNode===_a36){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_a37,_a38,_a39){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_a37,_a38,_a39);};dijit.hideTooltip=function(_a3a){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_a3a);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(ids){this._connectNodes=[];this.connectId=dojo.isArrayLike(ids)?ids:[ids];dojo.forEach(this.connectId,function(id){var node=dojo.byId(id);if(node){this._connectNodes.push(node);dojo.forEach(["onMouseEnter","onMouseLeave","onFocus","onBlur"],function(_a3e){this.connect(node,_a3e.toLowerCase(),"_"+_a3e);},this);if(dojo.isIE){node.style.zoom=1;}}},this);},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");},_onMouseEnter:function(e){this._onHover(e);},_onMouseLeave:function(e){this._onUnHover(e);},_onFocus:function(e){this._focus=true;this._onHover(e);this.inherited(arguments);},_onBlur:function(e){this._focus=false;this._onUnHover(e);this.inherited(arguments);},_onHover:function(e){if(!this._showTimer){var _a44=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_a44);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_a46){_a46=_a46||this._connectNodes[0];if(!_a46){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_a46,this.position);this._connectNode=_a46;},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},uninitialize:function(){this.close();}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" waiRole=\"presentation\"\r\n\t><div style=\"overflow:hidden;\"\r\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\r\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\r\n\t\t><div class=\"dijitReset dijitInputField\"\r\n\t\t\t><input class=\"dijitReset\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${nameAttrSetting} type='${type}'\r\n\t\t/></div\r\n\t></div\r\n></div>\r\n",baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(_a47){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_a48,_a49){return (new RegExp("^(?:"+this.regExpGen(_a49)+")"+(this.required?"":"?")+"$")).test(_a48)&&(!this.required||!this._isEmpty(_a48))&&(this._isEmpty(_a48)||this.parse(_a48,_a49)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_a4a){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_a4b){return /^\s*$/.test(_a4b);},getErrorMessage:function(_a4c){return this.invalidMessage;},getPromptMessage:function(_a4d){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_a4e){var _a4f="";var _a50=this.disabled||this.isValid(_a4e);if(_a50){this._maskValidSubsetError=true;}var _a51=!_a50&&_a4e&&this._isValidSubset();var _a52=this._isEmpty(this.textbox.value);this.state=(_a50||(!this._hasBeenBlurred&&_a52)||_a51)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_a50?"false":"true");if(_a4e){if(_a52){_a4f=this.getPromptMessage(true);}if(!_a4f&&(this.state=="Error"||(_a51&&!this._maskValidSubsetError))){_a4f=this.getErrorMessage(true);}}this.displayMessage(_a4f);return _a50;},_message:"",displayMessage:function(_a53){if(this._message==_a53){return;}this._message=_a53;dijit.hideTooltip(this.domNode);if(_a53){dijit.showTooltip(_a53,this.domNode,this.tooltipPosition);}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;var _a55="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_a55+=re;break;case ")":_a55+="|$)";break;default:_a55+="(?:"+re+"|$)";break;}});}try{"".search(_a55);}catch(e){_a55=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_a55+")$";},_setDisabledAttr:function(_a57){this.inherited(arguments);if(this.valueNode){this.valueNode.disabled=_a57;}this._refreshState();},_setRequiredAttr:function(_a58){this.required=_a58;dijit.setWaiState(this.focusNode,"required",_a58);this._refreshState();},postCreate:function(){if(dojo.isIE){var s=dojo.getComputedStyle(this.focusNode);if(s){var ff=s.fontFamily;if(ff){this.focusNode.style.fontFamily=ff;}}}this.inherited(arguments);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_a5c){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.attr("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name},this.textbox,"after");},_setDisabledAttr:function(_a5e){this.inherited(arguments);dojo.attr(this.valueNode,"disabled",_a5e);},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_a5f,_a60){var _a61="min" in _a60;var _a62="max" in _a60;if(_a61||_a62){return (!_a61||this.compare(_a5f,_a60.min)>=0)&&(!_a62||this.compare(_a5f,_a60.max)<=0);}return true;},isInRange:function(_a63){return this.rangeCheck(this.attr("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.attr("value");var _a65=false;var _a66=false;if("min" in this.constraints){var min=this.constraints.min;val=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_a65=(typeof val=="number")&&val<0;}if("max" in this.constraints){var max=this.constraints.max;val=this.compare(val,((typeof max!="number")||max>0)?max:0);_a66=(typeof val=="number")&&val>0;}return _a65||_a66;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_a69){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_a69));},getErrorMessage:function(_a6a){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(_a6a)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}},_setValueAttr:function(_a6b,_a6c){dijit.setWaiState(this.focusNode,"valuenow",_a6b);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._DateTimeTextBox"]){dojo._hasResource["dijit.form._DateTimeTextBox"]=true;dojo.provide("dijit.form._DateTimeTextBox");dojo.declare("dijit.form._DateTimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function(_a6d,_a6e){if(!_a6d){return "";}return dojo.date.locale.format(_a6d,_a6e);},parse:function(_a6f,_a70){return dojo.date.locale.parse(_a6f,_a70)||(this._isEmpty(_a6f)?null:undefined);},serialize:dojo.date.stamp.toISOString,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",postMixInProperties:function(){this.inherited(arguments);if(!this.value||this.value.toString()==dijit.form._DateTimeTextBox.prototype.value.toString()){this.value=null;}var _a71=this.constraints;_a71.selector=this._selector;_a71.fullYear=true;var _a72=dojo.date.stamp.fromISOString;if(typeof _a71.min=="string"){_a71.min=_a72(_a71.min);}if(typeof _a71.max=="string"){_a71.max=_a72(_a71.max);}},_onFocus:function(evt){this._open();},_setValueAttr:function(_a74,_a75,_a76){this.inherited(arguments);if(this._picker){if(!_a74){_a74=new Date();}this._picker.attr("value",_a74);}},_open:function(){if(this.disabled||this.readOnly||!this.popupClass){return;}var _a77=this;if(!this._picker){var _a78=dojo.getObject(this.popupClass,false);this._picker=new _a78({onValueSelected:function(_a79){if(_a77._tabbingAway){delete _a77._tabbingAway;}else{_a77.focus();}setTimeout(dojo.hitch(_a77,"_close"),1);dijit.form._DateTimeTextBox.superclass._setValueAttr.call(_a77,_a79,true);},lang:_a77.lang,constraints:_a77.constraints,isDisabledDate:function(date){var _a7b=dojo.date.compare;var _a7c=_a77.constraints;return _a7c&&(_a7c.min&&(_a7b(_a7c.min,date,"date")>0)||(_a7c.max&&_a7b(_a7c.max,date,"date")<0));}});this._picker.attr("value",this.attr("value")||new Date());}if(!this._opened){dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onCancel:dojo.hitch(this,this._close),onClose:function(){_a77._opened=false;}});this._opened=true;}dojo.marginBox(this._picker.domNode,{w:this.domNode.offsetWidth});},_close:function(){if(this._opened){dijit.popup.close(this._picker);this._opened=false;}},_onBlur:function(){this._close();if(this._picker){this._picker.destroy();delete this._picker;}this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_a7d,_a7e){this._setValueAttr(this.parse(_a7d,this.constraints),_a7e,_a7d);},destroy:function(){if(this._picker){this._picker.destroy();delete this._picker;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.focusNode,"onkeypress",this._onKeyPress);},_onKeyPress:function(e){var p=this._picker,dk=dojo.keys;if(p&&this._opened&&p.handleKey){if(p.handleKey(e)===false){return;}}if(this._opened&&e.charOrCode==dk.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){this._close();dojo.stopEvent(e);}else{if(!this._opened&&e.charOrCode==dk.DOWN_ARROW){this._open();dojo.stopEvent(e);}else{if(e.charOrCode===dk.TAB){this._tabbingAway=true;}else{if(this._opened&&(e.keyChar||e.charOrCode===dk.BACKSPACE||e.charOrCode==dk.DELETE)){setTimeout(dojo.hitch(this,function(){dijit.placeOnScreenAroundElement(p.domNode.parentNode,this.domNode,{"BL":"TL","TL":"BL"},p.orient?dojo.hitch(p,"orient"):null);}),1);}}}}}});}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitDateTextBox",popupClass:"dijit._Calendar",_selector:"date",value:new Date("")});}if(!dojo._hasResource["dojox.widget.PlaceholderMenuItem"]){dojo._hasResource["dojox.widget.PlaceholderMenuItem"]=true;dojo.provide("dojox.widget.PlaceholderMenuItem");dojo.declare("dojox.widget.PlaceholderMenuItem",dijit.MenuItem,{_replaced:false,_replacedWith:null,_isPlaceholder:true,postCreate:function(){this.domNode.style.display="none";this._replacedWith=[];if(!this.label){this.label=this.containerNode.innerHTML;}this.inherited(arguments);},replace:function(_a82){if(this._replaced){return false;}var _a83=this.getIndexInParent();if(_a83<0){return false;}var p=this.getParent();dojo.forEach(_a82,function(item){p.addChild(item,_a83++);});this._replacedWith=_a82;this._replaced=true;return true;},unReplace:function(_a86){if(!this._replaced){return [];}var p=this.getParent();if(!p){return [];}var r=this._replacedWith;dojo.forEach(this._replacedWith,function(item){p.removeChild(item);if(_a86){item.destroy();}});this._replacedWith=[];this._replaced=false;return r;}});dojo.extend(dijit.Menu,{getPlaceholders:function(_a8a){var r=[];var _a8c=this.getChildren();_a8c.forEach(function(_a8d){if(_a8d._isPlaceholder&&(!_a8a||_a8d.label==_a8a)){r.push(_a8d);}else{if(_a8d._started&&_a8d.popup&&_a8d.popup.getPlaceholders){r=r.concat(_a8d.popup.getPlaceholders(_a8a));}else{if(!_a8d._started&&_a8d.dropDownContainer){var node=dojo.query("[widgetId]",_a8d.dropDownContainer)[0];var menu=dijit.byNode(node);if(menu.getPlaceholders){r=r.concat(menu.getPlaceholders(_a8a));}}}}},this);return r;}});}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_a90){_a90=_a90||{};if(!_a90.store){_a90.store=this;}var self=this;var _a92=function(_a93,_a94){if(_a94.onError){var _a95=_a94.scope||dojo.global;_a94.onError.call(_a95,_a93,_a94);}};var _a96=function(_a97,_a98){var _a99=_a98.abort||null;var _a9a=false;var _a9b=_a98.start?_a98.start:0;var _a9c=(_a98.count&&(_a98.count!==Infinity))?(_a9b+_a98.count):_a97.length;_a98.abort=function(){_a9a=true;if(_a99){_a99.call(_a98);}};var _a9d=_a98.scope||dojo.global;if(!_a98.store){_a98.store=self;}if(_a98.onBegin){_a98.onBegin.call(_a9d,_a97.length,_a98);}if(_a98.sort){_a97.sort(dojo.data.util.sorter.createSortFunction(_a98.sort,self));}if(_a98.onItem){for(var i=_a9b;(i<_a97.length)&&(i<_a9c);++i){var item=_a97[i];if(!_a9a){_a98.onItem.call(_a9d,item,_a98);}}}if(_a98.onComplete&&!_a9a){var _aa0=null;if(!_a98.onItem){_aa0=_a97.slice(_a9b,_a9c);}_a98.onComplete.call(_a9d,_aa0,_a98);}};this._fetchItems(_a90,_a96,_a92);return _a90;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_aa1,_aa2){var rxp="^";var c=null;for(var i=0;i<_aa1.length;i++){c=_aa1.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_aa1.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_aa2){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"combobox\" tabIndex=\"-1\"\r\n\t><div style=\"overflow:hidden;\"\r\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\r\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\r\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\r\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\r\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\r\n\t\t></div\r\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\r\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\r\n\t\t><div class=\"dijitReset dijitInputField\"\r\n\t\t\t><input ${nameAttrSetting} type=\"text\" autocomplete=\"off\" class='dijitReset'\r\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\r\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\r\n\t\t/></div\r\n\t></div\r\n></div>\r\n",baseClass:"dijitComboBox",_getCaretPos:function(_aa6){var pos=0;if(typeof (_aa6.selectionStart)=="number"){pos=_aa6.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_aa6.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_aaa,_aab){_aab=parseInt(_aab);dijit.selectInputText(_aaa,_aab,_aab);},_setDisabledAttr:function(_aac){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",_aac);},_onKeyPress:function(evt){var key=evt.charOrCode;if(evt.altKey||(evt.ctrlKey&&(key!="x"&&key!="v"))||evt.key==dojo.keys.SHIFT){return;}var _aaf=false;var pw=this._popupWidget;var dk=dojo.keys;var _ab2=null;if(this._isShowingNow){pw.handleKey(key);_ab2=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();_aaf=true;}else{if(_ab2){this._announceOption(_ab2);}}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.PAGE_UP:case dk.UP_ARROW:if(this._isShowingNow){this._announceOption(_ab2);}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.ENTER:if(_ab2){if(_ab2==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_ab2==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setDisplayedValueAttr(this.attr("displayedValue"),true);}evt.preventDefault();case dk.TAB:var _ab3=this.attr("displayedValue");if(pw&&(_ab3==pw._messages["previousMessage"]||_ab3==pw._messages["nextMessage"])){break;}if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(_ab2){pw.attr("value",{target:_ab2});}this._lastQuery=null;this._hideResultList();}break;case " ":this._prev_key_backspace=false;this._prev_key_esc=false;if(_ab2){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_aaf=true;}break;case dk.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;_aaf=true;break;case dk.RIGHT_ARROW:case dk.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;_aaf=typeof key=="string";}if(this.searchTimer){clearTimeout(this.searchTimer);}if(_aaf){setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _ab6=this.ignoreCase?"toLowerCase":"substr";if(text[_ab6](0).indexOf(this.focusNode.value[_ab6](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_ab8,_ab9){if(this.disabled||this.readOnly||(_ab9.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_ab8.length){this._hideResultList();return;}this.item=null;var _aba=new String(this.store.getValue(_ab8[0],this.searchAttr));if(_aba&&this.autoComplete&&!this._prev_key_backspace&&(_ab9.query[this.searchAttr]!="*")){this.item=_ab8[0];this._autoCompleteText(_aba);}_ab9._maxOptions=this._maxOptions;this._popupWidget.createOptions(_ab8,_ab9,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_ab9.direction){if(1==_ab9.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_ab9.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}},_showResultList:function(){this._hideResultList();var _abb=this._popupWidget.getItems(),_abc=Math.min(_abb.length,this.maxListLength);this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var best=this.open();var _abe=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_abe.h)&&(best.w==_abe.w))?"hidden":"auto";var _abf=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_abf+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_abf,this.domNode.offsetWidth)});dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function(){if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _ac0=this.attr("displayedValue");var pw=this._popupWidget;if(pw&&(_ac0==pw._messages["previousMessage"]||_ac0==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{this.attr("displayedValue",_ac0);}},_onBlur:function(){this._hideResultList();this._arrowIdle();this.inherited(arguments);},_announceOption:function(node){if(node==null){return;}var _ac3;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_ac3=node.innerHTML;}else{_ac3=this.store.getValue(node.item,this.searchAttr);}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_ac3);},_selectOption:function(evt){var tgt=null;if(!evt){evt={target:this._popupWidget.getHighlightedOption()};}if(!evt.target){this.attr("displayedValue",this.attr("displayedValue"));return;}else{tgt=evt.target;}if(!evt.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(tgt.item,this.searchAttr).length);}this._doSelect(tgt);},_doSelect:function(tgt){this.item=tgt.item;this.attr("value",this.store.getValue(tgt.item,this.searchAttr));},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearch("");}},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this._popupWidget){var _aca=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_aca});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_aca);}this.item=null;var _acb=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_acb[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_acc,_acd){var _ace={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_acc,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_acf){console.error("dijit.form.ComboBox: "+_acf);dojo.hitch(_acd,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_ace,_acd.fetchProperties);var _ad0=_acd.store.fetch(_ace);var _ad1=function(_ad2,_ad3){_ad2.start+=_ad2.count*_ad3;_ad2.direction=_ad3;this.store.fetch(_ad2);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_ad1,_ad0);},_acb,this),this.searchDelay);},_setMaxOptions:function(size,_ad5){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function(evt){this._onKeyPress({charCode:-1});},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _ad7=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_ad7);if(!this.value||((typeof _ad7.selectedIndex=="number")&&_ad7.selectedIndex.toString()===this.value)){var item=this.store.fetchSelectedItem();if(item){this.value=this.store.getValue(item,this._getValueField());}}}this.inherited(arguments);},postCreate:function(){var _ad9=dojo.query("label[for=\""+this.id+"\"]");if(_ad9.length){_ad9[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_ad9[0].id);}this.inherited(arguments);},uninitialize:function(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy();}},_getMenuLabelFromItem:function(item){var _adc=this.store.getValue(item,this.labelAttr||this.searchAttr);var _add=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_adc=this.doHighlight(_adc,this._escapeHtml(this._lastInput));_add="html";}return {html:_add=="html",label:_adc};},doHighlight:function(_ade,find){var _ae0="i"+(this.highlightMatch=="all"?"g":"");var _ae1=this._escapeHtml(_ade);find=dojo.regexp.escapeString(find);var ret=_ae1.replace(new RegExp("(^|\\s)("+find+")",_ae0),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");return ret;},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function(){this.item=null;this.inherited(arguments);}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li>"+"</ul>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments);},_setValueAttr:function(_ae4){this.value=_ae4;this.onChange(_ae4);},onChange:function(_ae5){},onPage:function(_ae6){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(item,_ae8){var _ae9=_ae8(item);var _aea=dojo.doc.createElement("li");dijit.setWaiRole(_aea,"option");if(_ae9.html){_aea.innerHTML=_ae9.label;}else{_aea.appendChild(dojo.doc.createTextNode(_ae9.label));}if(_aea.innerHTML==""){_aea.innerHTML="&nbsp;";}_aea.item=item;return _aea;},createOptions:function(_aeb,_aec,_aed){this.previousButton.style.display=(_aec.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_aeb,function(item,i){var _af0=this._createOption(item,_aed);_af0.className="dijitReset dijitMenuItem";dojo.attr(_af0,"id",this.id+i);this.domNode.insertBefore(_af0,this.nextButton);},this);var _af1=false;if(_aec._maxOptions&&_aec._maxOptions!=-1){if((_aec.start+_aec.count)<_aec._maxOptions){_af1=true;}else{if((_aec.start+_aec.count)>(_aec._maxOptions-1)){if(_aec.count==_aeb.length){_af1=true;}}}}else{if(_aec.count==_aeb.length){_af1=true;}}this.nextButton.style.display=_af1?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},getItems:function(){return this.domNode.childNodes;},getListLength:function(){return this.domNode.childNodes.length-2;},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){var fc=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){var lc=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _afe=0;var _aff=this.domNode.scrollTop;var _b00=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_afe<_b00){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _b01=this.domNode.scrollTop;_afe+=(_b01-_aff)*(up?-1:1);_aff=_b01;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_b04,_b05){if(!_b04){_b04="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_b04,_b05);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_b09,_b0a){return (_b09=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_b0b){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_b0d,_b0e){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _b0f=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_b10=dojo.query("> option",this.root).filter(function(_b11){return (_b11.innerText||_b11.textContent||"").match(_b0f);});if(args.sort){_b10.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_b0d(_b10,args);},close:function(_b12){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0];}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function(){return this._isvalid||(!this.required&&this.attr("displayedValue")=="");},_callbackSetLabel:function(_b19,_b1a,_b1b){if((_b1a&&_b1a.query[this.searchAttr]!=this._lastQuery)||(!_b1a&&_b19.length&&this.store.getIdentity(_b19[0])!=this._lastQuery)){return;}if(!_b19.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_b1b||(_b1b===undefined&&!this._focused));this._isvalid=false;this.validate(this._focused);this.item=null;}else{this._setValueFromItem(_b19[0],_b1b);}},_openResultList:function(_b1c,_b1d){if(_b1d.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_b1c.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValue:function(_b1e,_b1f,_b20){this.valueNode.value=_b1e;dijit.form.FilteringSelect.superclass._setValueAttr.call(this,_b1e,_b20,_b1f);this._lastDisplayedValue=_b1f;},_setValueAttr:function(_b21,_b22){if(!this._onChangeActive){_b22=null;}this._lastQuery=_b21;if(_b21===null||_b21===""){this._setDisplayedValueAttr("",_b22);return;}var self=this;var _b24=function(item,_b26){if(item){if(self.store.isItemLoaded(item)){self._callbackSetLabel([item],undefined,_b26);}else{self.store.loadItem({item:item,onItem:function(_b27,_b28){self._callbackSetLabel(_b27,_b28,_b26);}});}}else{self._isvalid=false;self.validate(false);}};this.store.fetchItemByIdentity({identity:_b21,onItem:function(item){_b24(item,_b22);}});},_setValueFromItem:function(item,_b2b){this._isvalid=true;this.item=item;this._setValue(this.store.getIdentity(item),this.labelFunc(item,this.store),_b2b);},labelFunc:function(item,_b2d){return _b2d.getValue(item,this.searchAttr);},_doSelect:function(tgt){this._setValueFromItem(tgt.item,true);},_setDisplayedValueAttr:function(_b2f,_b30){if(!this._created){_b30=false;}if(this.store){var _b31=dojo.clone(this.query);this._lastQuery=_b31[this.searchAttr]=_b2f.replace(/([\\\*\?])/g,"\\$1");this.textbox.value=_b2f;this._lastDisplayedValue=_b2f;var _b32=this;var _b33={query:_b31,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_b34,_b35){dojo.hitch(_b32,"_callbackSetLabel")(_b34,_b35,_b30);},onError:function(_b36){console.error("dijit.form.FilteringSelect: "+_b36);dojo.hitch(_b32,"_setValue")("",_b2f,false);}};dojo.mixin(_b33,this.fetchProperties);this.store.fetch(_b33);}},postMixInProperties:function(){this.inherited(arguments);this._isvalid=!this.required;},undo:function(){this.attr("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_b37){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_b37.url;this._jsonData=_b37.data;this._datatypeMap=_b37.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_b38){return dojo.date.stamp.fromISOString(_b38);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_b37.urlPreventCache!==undefined){this.urlPreventCache=_b37.urlPreventCache?true:false;}if(_b37.clearOnClose){this.clearOnClose=true;}},url:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_b3a){if(typeof _b3a!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_b3c,_b3d){var _b3e=this.getValues(item,_b3c);return (_b3e.length>0)?_b3e[0]:_b3d;},getValues:function(item,_b40){this._assertIsItem(item);this._assertIsAttribute(_b40);return item[_b40]||[];},getAttributes:function(item){this._assertIsItem(item);var _b42=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_b42.push(key);}}return _b42;},hasAttribute:function(item,_b45){return this.getValues(item,_b45).length>0;},containsValue:function(item,_b47,_b48){var _b49=undefined;if(typeof _b48==="string"){_b49=dojo.data.util.filter.patternToRegExp(_b48,false);}return this._containsValue(item,_b47,_b48,_b49);},_containsValue:function(item,_b4b,_b4c,_b4d){return dojo.some(this.getValues(item,_b4b),function(_b4e){if(_b4e!==null&&!dojo.isObject(_b4e)&&_b4d){if(_b4e.toString().match(_b4d)){return true;}}else{if(_b4c===_b4e){return true;}}});},isItem:function(_b4f){if(_b4f&&_b4f[this._storeRefPropName]===this){if(this._arrayOfAllItems[_b4f[this._itemNumPropName]]===_b4f){return true;}}return false;},isItemLoaded:function(_b50){return this.isItem(_b50);},loadItem:function(_b51){this._assertIsItem(_b51.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_b54,_b55,_b56){var self=this;var _b58=function(_b59,_b5a){var _b5b=[];var i,key;if(_b59.query){var _b5e;var _b5f=_b59.queryOptions?_b59.queryOptions.ignoreCase:false;var _b60={};for(key in _b59.query){_b5e=_b59.query[key];if(typeof _b5e==="string"){_b60[key]=dojo.data.util.filter.patternToRegExp(_b5e,_b5f);}}for(i=0;i<_b5a.length;++i){var _b61=true;var _b62=_b5a[i];if(_b62===null){_b61=false;}else{for(key in _b59.query){_b5e=_b59.query[key];if(!self._containsValue(_b62,key,_b5e,_b60[key])){_b61=false;}}}if(_b61){_b5b.push(_b62);}}_b55(_b5b,_b59);}else{for(i=0;i<_b5a.length;++i){var item=_b5a[i];if(item!==null){_b5b.push(item);}}_b55(_b5b,_b59);}};if(this._loadFinished){_b58(_b54,this._getItemsArray(_b54.queryOptions));}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_b54,filter:_b58});}else{this._loadInProgress=true;var _b64={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _b65=dojo.xhrGet(_b64);_b65.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_b58(_b54,self._getItemsArray(_b54.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_b56(e,_b54);}});_b65.addErrback(function(_b67){self._loadInProgress=false;_b56(_b67,_b54);});var _b68=null;if(_b54.abort){_b68=_b54.abort;}_b54.abort=function(){var df=_b65;if(df&&df.fired===-1){df.cancel();df=null;}if(_b68){_b68.call(_b54);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_b58(_b54,this._getItemsArray(_b54.queryOptions));}catch(e){_b56(e,_b54);}}else{_b56(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_b54);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _b6b=this._queuedFetches[i];var _b6c=_b6b.args;var _b6d=_b6b.filter;if(_b6d){_b6d(_b6c,this._getItemsArray(_b6c.queryOptions));}else{this.fetchItemByIdentity(_b6c);}}this._queuedFetches=[];}},_getItemsArray:function(_b6e){if(_b6e&&_b6e.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_b6f){if(this.clearOnClose&&(this._jsonFileUrl!=="")){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_b70){var _b71=false;function _b72(_b73){var _b74=((_b73!==null)&&(typeof _b73==="object")&&(!dojo.isArray(_b73)||_b71)&&(!dojo.isFunction(_b73))&&(_b73.constructor==Object||dojo.isArray(_b73))&&(typeof _b73._reference==="undefined")&&(typeof _b73._type==="undefined")&&(typeof _b73._value==="undefined"));return _b74;};var self=this;function _b76(_b77){self._arrayOfAllItems.push(_b77);for(var _b78 in _b77){var _b79=_b77[_b78];if(_b79){if(dojo.isArray(_b79)){var _b7a=_b79;for(var k=0;k<_b7a.length;++k){var _b7c=_b7a[k];if(_b72(_b7c)){_b76(_b7c);}}}else{if(_b72(_b79)){_b76(_b79);}}}}};this._labelAttr=_b70.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_b70.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];if(dojo.isArray(item)){_b71=true;}_b76(item);item[this._rootItemPropName]=true;}var _b7f={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _b81=item[key];if(_b81!==null){if(!dojo.isArray(_b81)){item[key]=[_b81];}}else{item[key]=[null];}}_b7f[key]=key;}}while(_b7f[this._storeRefPropName]){this._storeRefPropName+="_";}while(_b7f[this._itemNumPropName]){this._itemNumPropName+="_";}while(_b7f[this._reverseRefMap]){this._reverseRefMap+="_";}var _b82;var _b83=_b70.identifier;if(_b83){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_b83;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_b82=item[_b83];var _b84=_b82[0];if(!this._itemsByIdentity[_b84]){this._itemsByIdentity[_b84]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_b83+"].  Value collided: ["+_b84+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_b83+"].  Value collided: ["+_b84+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_b82=item[key];for(var j=0;j<_b82.length;++j){_b81=_b82[j];if(_b81!==null&&typeof _b81=="object"){if(_b81._type&&_b81._value){var type=_b81._type;var _b87=this._datatypeMap[type];if(!_b87){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_b87)){_b82[j]=new _b87(_b81._value);}else{if(dojo.isFunction(_b87.deserialize)){_b82[j]=_b87.deserialize(_b81._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_b81._reference){var _b88=_b81._reference;if(!dojo.isObject(_b88)){_b82[j]=this._itemsByIdentity[_b88];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _b8a=this._arrayOfAllItems[k];var _b8b=true;for(var _b8c in _b88){if(_b8a[_b8c]!=_b88[_b8c]){_b8b=false;}}if(_b8b){_b82[j]=_b8a;}}}if(this.referenceIntegrity){var _b8d=_b82[j];if(this.isItem(_b8d)){this._addReferenceToMap(_b8d,item,key);}}}else{if(this.isItem(_b81)){if(this.referenceIntegrity){this._addReferenceToMap(_b81,item,key);}}}}}}}},_addReferenceToMap:function(_b8e,_b8f,_b90){},getIdentity:function(item){var _b92=this._features["dojo.data.api.Identity"];if(_b92===Number){return item[this._itemNumPropName];}else{var _b93=item[_b92];if(_b93){return _b93[0];}}return null;},fetchItemByIdentity:function(_b94){var item;var _b96;if(!this._loadFinished){var self=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_b94});}else{this._loadInProgress=true;var _b98={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _b99=dojo.xhrGet(_b98);_b99.addCallback(function(data){var _b9b=_b94.scope?_b94.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;item=self._getItemByIdentity(_b94.identity);if(_b94.onItem){_b94.onItem.call(_b9b,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_b94.onError){_b94.onError.call(_b9b,error);}}});_b99.addErrback(function(_b9c){self._loadInProgress=false;if(_b94.onError){var _b9d=_b94.scope?_b94.scope:dojo.global;_b94.onError.call(_b9d,_b9c);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;item=self._getItemByIdentity(_b94.identity);if(_b94.onItem){_b96=_b94.scope?_b94.scope:dojo.global;_b94.onItem.call(_b96,item);}}}}else{item=this._getItemByIdentity(_b94.identity);if(_b94.onItem){_b96=_b94.scope?_b94.scope:dojo.global;_b94.onItem.call(_b96,item);}}},_getItemByIdentity:function(_b9e){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_b9e];}else{item=this._arrayOfAllItems[_b9e];}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _ba1=this._features["dojo.data.api.Identity"];if(_ba1===Number){return null;}else{return [_ba1];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl){var _ba3={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,sync:true};var _ba4=dojo.xhrGet(_ba3);_ba4.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_ba4.addErrback(function(_ba6){throw _ba6;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:"<div class=\"dijitReset dijitInline\" waiRole=\"presentation\"\r\n\t><input\r\n\t \t${nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\r\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\r\n\t\tdojoAttachPoint=\"focusNode\"\r\n\t \tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick\"\r\n/></div>\r\n",baseClass:"dijitCheckBox",type:"checkbox",value:"on",_setValueAttr:function(_ba7){if(typeof _ba7=="string"){this.value=_ba7;dojo.attr(this.focusNode,"value",_ba7);_ba7=true;}if(this._created){this.attr("checked",_ba7);}},_getValueAttr:function(){return (this.checked?this.value:false);},postMixInProperties:function(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function(_ba8){},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);this.value=this.params.value||"on";dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_ba9){this.inherited(arguments);if(!this._created){return;}if(_ba9){var _baa=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_bab){if(_bab.name==_baa.name&&_bab!=_baa.focusNode&&_bab.form==_baa.focusNode.form){var _bac=dijit.getEnclosingWidget(_bab);if(_bac&&_bac.checked){_bac.attr("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.attr("checked",true);}}});}dojo.i18n._preloadLocalizations("dojo.nls.fpDojo",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nl","nl-nl","no","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]);
